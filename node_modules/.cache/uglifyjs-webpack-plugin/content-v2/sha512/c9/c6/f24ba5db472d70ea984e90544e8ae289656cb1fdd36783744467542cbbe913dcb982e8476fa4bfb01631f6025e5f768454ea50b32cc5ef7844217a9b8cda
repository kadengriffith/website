{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(module,exports,__webpack_require__){\"use strict\";eval(\"// Util\\n\\n\\n\\nmodule.exports = function () {\\n  window.__internalClock = {\\n    fps: 30,\\n    fpsInterval: null,\\n    startTime: null,\\n    now: null,\\n    then: null,\\n    elapsed: null,\\n    frameCount: 0,\\n    currentFPS: 0,\\n    stop: false\\n  };\\n\\n  window.__requestFrame = function () {\\n    if (window.__internalClock.stop) return;\\n    window.requestAnimationFrame(window.__requestFrame);\\n    window.__internalClock.now = Date.now();\\n    window.__internalClock.elapsed = window.__internalClock.now - window.__internalClock.then;\\n    if (window.__internalClock.elapsed > window.__internalClock.fpsInterval) {\\n      window.__internalClock.then = window.__internalClock.now - window.__internalClock.elapsed % window.__internalClock.fpsInterval;\\n      var sinceStart = window.__internalClock.now - window.__internalClock.startTime;\\n      window.__internalClock.currentFPS = Math.round(1000 / (sinceStart / ++window.__internalClock.frameCount) * 100) / 100;\\n      if (typeof window.__draw === 'function') window.__draw();\\n    }\\n  };\\n\\n  // Screen Update at specified framerate\\n  window.__update = function () {\\n    var fps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.__internalClock.fps;\\n\\n    window.__internalClock.fpsInterval = 1000 / fps;\\n    window.__internalClock.then = Date.now();\\n    window.__internalClock.startTime = window.__internalClock.then;\\n    window.__requestFrame();\\n  };\\n}();//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fcHVibGljL1V0aWwuanM/YTBiNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVdGlsXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHdpbmRvdy5fX2ludGVybmFsQ2xvY2sgPSB7XG4gICAgZnBzOiAzMCxcbiAgICBmcHNJbnRlcnZhbDogbnVsbCxcbiAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgbm93OiBudWxsLFxuICAgIHRoZW46IG51bGwsXG4gICAgZWxhcHNlZDogbnVsbCxcbiAgICBmcmFtZUNvdW50OiAwLFxuICAgIGN1cnJlbnRGUFM6IDAsXG4gICAgc3RvcDogZmFsc2VcbiAgfTtcblxuICB3aW5kb3cuX19yZXF1ZXN0RnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5fX2ludGVybmFsQ2xvY2suc3RvcCkgcmV0dXJuO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2luZG93Ll9fcmVxdWVzdEZyYW1lKTtcbiAgICB3aW5kb3cuX19pbnRlcm5hbENsb2NrLm5vdyA9IERhdGUubm93KCk7XG4gICAgd2luZG93Ll9faW50ZXJuYWxDbG9jay5lbGFwc2VkID0gd2luZG93Ll9faW50ZXJuYWxDbG9jay5ub3cgLSB3aW5kb3cuX19pbnRlcm5hbENsb2NrLnRoZW47XG4gICAgaWYgKHdpbmRvdy5fX2ludGVybmFsQ2xvY2suZWxhcHNlZCA+IHdpbmRvdy5fX2ludGVybmFsQ2xvY2suZnBzSW50ZXJ2YWwpIHtcbiAgICAgIHdpbmRvdy5fX2ludGVybmFsQ2xvY2sudGhlbiA9IHdpbmRvdy5fX2ludGVybmFsQ2xvY2subm93IC0gd2luZG93Ll9faW50ZXJuYWxDbG9jay5lbGFwc2VkICUgd2luZG93Ll9faW50ZXJuYWxDbG9jay5mcHNJbnRlcnZhbDtcbiAgICAgIHZhciBzaW5jZVN0YXJ0ID0gd2luZG93Ll9faW50ZXJuYWxDbG9jay5ub3cgLSB3aW5kb3cuX19pbnRlcm5hbENsb2NrLnN0YXJ0VGltZTtcbiAgICAgIHdpbmRvdy5fX2ludGVybmFsQ2xvY2suY3VycmVudEZQUyA9IE1hdGgucm91bmQoMTAwMCAvIChzaW5jZVN0YXJ0IC8gKyt3aW5kb3cuX19pbnRlcm5hbENsb2NrLmZyYW1lQ291bnQpICogMTAwKSAvIDEwMDtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93Ll9fZHJhdyA9PT0gJ2Z1bmN0aW9uJykgd2luZG93Ll9fZHJhdygpO1xuICAgIH1cbiAgfTtcblxuICAvLyBTY3JlZW4gVXBkYXRlIGF0IHNwZWNpZmllZCBmcmFtZXJhdGVcbiAgd2luZG93Ll9fdXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHdpbmRvdy5fX2ludGVybmFsQ2xvY2suZnBzO1xuXG4gICAgd2luZG93Ll9faW50ZXJuYWxDbG9jay5mcHNJbnRlcnZhbCA9IDEwMDAgLyBmcHM7XG4gICAgd2luZG93Ll9faW50ZXJuYWxDbG9jay50aGVuID0gRGF0ZS5ub3coKTtcbiAgICB3aW5kb3cuX19pbnRlcm5hbENsb2NrLnN0YXJ0VGltZSA9IHdpbmRvdy5fX2ludGVybmFsQ2xvY2sudGhlbjtcbiAgICB3aW5kb3cuX19yZXF1ZXN0RnJhbWUoKTtcbiAgfTtcbn0oKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///10\\n\")},12:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\n// Author: Kaden Griffith\\n// Descr : Window Functions\\n\\nvar $ = __webpack_require__(0)(),\\n    Util = __webpack_require__(10);\\n\\n__webpack_require__(11);\\n\\n__webpack_require__.e(/* import() | navigator.response */ 8).then(__webpack_require__.t.bind(null, 9, 7));\\n__webpack_require__.e(/* import() | randomColor */ 7).then(__webpack_require__.t.bind(null, 1, 7));\\n\\nmodule.exports = {\\n  load: function load() {\\n    window.__draw = function () {\\n      verifyOrientation();\\n      $$.fullscreen = isFullscreen();\\n      // Make main the correct size\\n      if ($$.fullscreen || !isMobile()) {\\n        $.get('.main').style.height = window.innerHeight - 40 + 'px';\\n        $.get('.kaden-logo').style.height = window.innerHeight - 40 + 'px';\\n      } else {\\n        $.get('.main').style.height = window.innerHeight + 'px';\\n        $.get('.kaden-logo').style.height = window.innerHeight + 'px';\\n      }\\n      // This is the statusbar fix using 30 fps update\\n      if (isStandalone() && $$.fullscreen) {\\n        if ($$.deviceOrientation === 'portrait') {\\n          $.get('.main').style.height = $$.deviceHeight - 80 + 'px';\\n          $.get('.kaden-logo').style.height = $.get('.main').style.height;\\n          $.get('.head-spacer').style.height = '80px';\\n          $.get('.nav').style.top = '-120px';\\n        } else {\\n          $.get('.main').style.height = $$.deviceWidth - 40 + 'px';\\n          $.get('.kaden-logo').style.height = $.get('.main').style.height;\\n          $.get('.head-spacer').style.height = '40px';\\n          $.get('.nav').style.top = '-160px';\\n        }\\n        $.get('#popover').style.top = '14%';\\n      }\\n\\n      fadeBackground(window.scrollY);\\n\\n      if ($$.app_debug) {\\n        $.clear($.get('.footer-link-area'));\\n        $.add($.get('.footer-link-area'), '<div>fps: ' + window.__internalClock.currentFPS + '</div>');\\n        for (var prop in $$) {\\n          $.add($.get('.footer-link-area'), '<div>' + prop + ': ' + $$[prop] + '</div>');\\n        }\\n        $.add($.get('.footer-link-area'), '<div>windowWidth: ' + window.innerWidth + '</div><div>windowHeight: ' + window.innerHeight + '</div>');\\n      }\\n    };\\n\\n    window.addEventListener('beforeinstallprompt', function (e) {\\n      e.preventDefault();\\n      $$.installPrompt = e;\\n    });\\n\\n    window.toggleMenu = function (state) {\\n      var topMin = isStandalone() && $$.fullscreen ? '40px' : '0';\\n      if (state) {\\n        $.get('.menu').style.display = 'block';\\n        setTimeout(function () {\\n          $.get('.menu').style.top = topMin;\\n          setTimeout(function () {\\n            $.get('.menuCue-off').style.display = 'block';\\n          }, 75);\\n          setTimeout(function () {\\n            $.get('#wrapper').style.display = 'none';\\n          }, 200);\\n        }, 20);\\n      } else {\\n        resetBackground();\\n        setTimeout(function () {\\n          $.get('.menu').style.top = '100%';\\n        }, 185);\\n        setTimeout(function () {\\n          $.get('.menuCue-off').style.display = 'none';\\n          $.get('.menu').style.display = 'none';\\n        }, 300);\\n        setTimeout(function () {\\n          $.get('.menu').style.display = 'none';\\n        }, 325);\\n      }\\n    };\\n\\n    window.hidePopover = function () {\\n      $.get('#wrapper').style.position = 'absolute';\\n      $.get('.project-scroller-container').style.overflowY = 'scroll';\\n      $.get('#popover').style.overflowY = 'scroll';\\n      $.get('#popover').display = 'none';\\n      $.get('#popover').innerHTML = '';\\n    };\\n\\n    window.beg = function () {\\n      toggleMenu(false);\\n      displayPopover($.getElement({\\n        class: 'amount',\\n        contains: $.getElement({\\n          class: 'amount-main',\\n          contains: $.getElement({\\n            class: 'amount-up',\\n            onclick: \\\"javascript:amountUp();\\\",\\n            contains: $.icon({\\n              icon: 'arrow-up'\\n            })\\n          }) + $.icon({\\n            icon: 'dollar-sign',\\n            style: 'font-size:32px;'\\n          }) + $.getElement({\\n            class: 'amount-text',\\n            contains: '5.00'\\n          }) + $.getElement({\\n            class: 'amount-down',\\n            onclick: \\\"javascript:amountDown();\\\",\\n            contains: $.icon({\\n              icon: 'arrow-down'\\n            })\\n          }) + $.getElement({\\n            class: 'amount-array',\\n            contains: $.getElement({\\n              class: 'amount-option',\\n              onclick: \\\"javascript:amountChoose(`5.00`);\\\",\\n              contains: $.icon({\\n                icon: 'dollar-sign'\\n              }) + '5.00'\\n            }) + $.getElement({\\n              class: 'amount-option',\\n              onclick: \\\"javascript:amountChoose(`10.00`);\\\",\\n              contains: $.icon({\\n                icon: 'dollar-sign'\\n              }) + '10.00'\\n            }) + $.getElement({\\n              class: 'amount-option',\\n              onclick: \\\"javascript:amountChoose(`20.00`);\\\",\\n              contains: $.icon({\\n                icon: 'dollar-sign'\\n              }) + '20.00'\\n            }) + $.getElement({\\n              class: 'amount-option',\\n              onclick: \\\"javascript:amountChoose(`50.00`);\\\",\\n              contains: $.icon({\\n                icon: 'dollar-sign'\\n              }) + '50.00'\\n            }) + $.getElement({\\n              class: 'amount-option',\\n              onclick: \\\"javascript:amountChoose(`100.00`);\\\",\\n              contains: $.icon({\\n                icon: 'dollar-sign'\\n              }) + '100.00'\\n            }) + $.getElement({\\n              class: 'amount-option',\\n              onclick: \\\"javascript:amountChoose(`1000.00`);\\\",\\n              contains: $.icon({\\n                icon: 'dollar-sign'\\n              }) + '1000.00'\\n            })\\n          })\\n        })\\n      }) + $.getElement({\\n        id: 'paypal-container'\\n      }));\\n      var amt = Number($.get('.amount-text').innerHTML);\\n      paypal.Button.render({\\n        env: 'production',\\n        style: {\\n          layout: 'vertical',\\n          size: 'medium',\\n          shape: 'rect',\\n          color: 'silver'\\n        },\\n        funding: {\\n          allowed: [paypal.FUNDING.CARD, paypal.FUNDING.CREDIT]\\n        },\\n        client: {\\n          sandbox: 'ASrkKYmRH3eD027wqYDAbaHwVwwKrFU3_M2kyLB2oeHcdyLgW7_s30YQaMQA7DniO9WghPsSrPegvXKu',\\n          production: 'ARzt2LSntzEGwv_djVtWEeGNv8L7gOEb4fh1QzjdLZywIcDZ3HMUMLRPJW1CWuyHo5Ko5_qJDukJZBW1'\\n        },\\n        payment: function payment(data, actions) {\\n          return actions.payment.create({\\n            payment: {\\n              transactions: [{\\n                amount: {\\n                  total: amt,\\n                  currency: 'USD'\\n                },\\n                description: 'Coffee Money'\\n              }]\\n            }\\n          });\\n        },\\n        onAuthorize: function onAuthorize(data, actions) {\\n          return actions.payment.execute().then(function () {\\n            hidePopover();\\n            displayPopover('Thank you for being awesome!');\\n          });\\n        }\\n      }, '#paypal-container');\\n    };\\n\\n    window.amountDown = function () {\\n      var _inc = $.get('.amount-text').innerHTML.length > 4 ? 1 : 0.1;\\n      _inc = $.get('.amount-text').innerHTML.length > 5 && $.get('.amount-text').innerHTML != 100 ? 10 : _inc;\\n      _inc = $.get('.amount-text').innerHTML.length > 6 && $.get('.amount-text').innerHTML != 1000 ? 100 : _inc;\\n      $.get('.amount-text').innerHTML = Number($.get('.amount-text').innerHTML) > 4.2 ? parseFloat($.get('.amount-text').innerHTML - _inc).toFixed(2) : '4.20';\\n    };\\n\\n    window.amountUp = function () {\\n      var _inc = $.get('.amount-text').innerHTML.length > 4 ? 1 : 0.1;\\n      _inc = $.get('.amount-text').innerHTML.length > 5 ? 10 : _inc;\\n      _inc = $.get('.amount-text').innerHTML.length > 6 ? 100 : _inc;\\n      $.get('.amount-text').innerHTML = parseFloat(Number($.get('.amount-text').innerHTML) + _inc).toFixed(2);\\n    };\\n\\n    window.amountChoose = function (_amt) {\\n      $.get('.amount-text').innerHTML = parseFloat(Number(_amt)).toFixed(2);\\n    };\\n\\n    window.openNewEmail = function () {\\n      displayPopover($.getElement({\\n        class: 'fake-a-hello',\\n        contains: 'Hey, what\\\\'s up?'\\n      }) + $.getElement({\\n        tag: 'textarea',\\n        required: 'true',\\n        placeholder: 'Message',\\n        id: 'email-message',\\n        class: 'textbox'\\n      }) + $.getElement({\\n        onclick: \\\"javascript:sendMail();\\\",\\n        class: 'email-btn',\\n        contains: 'Send'\\n      }));\\n    };\\n\\n    window.sendMail = function () {\\n      window.location.href = 'mailto:kadengriffith@gmail.com?subject=I\\\\'ve seen your work... I\\\\'ve never been more blown away in my life.&body=' + $.get('#email-message').value;\\n      window.hidePopover();\\n    };\\n\\n    window.run = function (options) {\\n      var _project = grabProject(options.project);\\n      if (_project) {\\n        displayPopover($.getElement({\\n          tag: 'canvas',\\n          height: '300px',\\n          width: '300px',\\n          id: _project.name.replace(/\\\\ /g, '_'),\\n          class: 'canvas'\\n        }) + $.getElement({\\n          class: 'demo-date',\\n          contains: 'Date Created: ' + _project.date\\n        }) + $.getElement({\\n          class: 'demo-addons'\\n        }) + $.getElement({\\n          class: 'demo-code',\\n          contains: _project.src\\n        }));\\n        var _p = C.projects.filter(function (project) {\\n          return project.name.match(_project.name);\\n        })[0].name;\\n        if (/fractal pattern generation/gi.test(_p)) __webpack_require__.e(/* import() | p1 */ 6).then(__webpack_require__.t.bind(null, 8, 7)).then(function (p1) {\\n          return p1.Project1();\\n        });\\n        if (/automated pong/gi.test(_p)) __webpack_require__.e(/* import() | p2 */ 5).then(__webpack_require__.t.bind(null, 7, 7)).then(function (p2) {\\n          return p2.Project2();\\n        });\\n        if (/simple math game/gi.test(_p)) __webpack_require__.e(/* import() | p3 */ 4).then(__webpack_require__.t.bind(null, 6, 7)).then(function (p3) {\\n          return p3.Project3();\\n        });\\n        if (/guess the number/gi.test(_p)) __webpack_require__.e(/* import() | p4 */ 3).then(__webpack_require__.t.bind(null, 5, 7)).then(function (p4) {\\n          return p4.Project4();\\n        });\\n        if (/snake/gi.test(_p)) __webpack_require__.e(/* import() | p5 */ 2).then(__webpack_require__.t.bind(null, 4, 7)).then(function (p5) {\\n          return p5.Project5();\\n        });\\n        if (/color viewer/gi.test(_p)) __webpack_require__.e(/* import() | p6 */ 1).then(__webpack_require__.t.bind(null, 3, 7)).then(function (p6) {\\n          return p6.Project6();\\n        });\\n      }\\n    };\\n\\n    window.download = function () {\\n      $$.installPrompt.prompt();\\n    };\\n\\n    // Shows overlay screen\\n    function displayPopover(contains) {\\n      $.get('#popover').innerHTML = $.getElement({\\n        class: 'popoverCue-off',\\n        onclick: \\\"javascript:hidePopover();\\\",\\n        contains: $.icon({\\n          icon: 'times'\\n        })\\n      }) + $.getElement({\\n        class: 'popover-content',\\n        contains: contains\\n      });\\n      $.get('#popover').display = 'block';\\n    }\\n\\n    function grabProject(_p) {\\n      var _project = '';\\n      if (/fractal pattern generation/gi.test(_p)) _project = '// Author: Kaden Griffith\\\\n// Descr : Shape Recursion\\\\n\\\\nconst  = require(kbrew_hypertxt)(),\\\\n  rc = require(./assets/lib/randomColor);\\\\n\\\\nmodule.exports = \\\\n  Project1: () => \\\\n    use strict;\\\\n\\\\n    const canvasName = #Fractal_Pattern_Generation;\\\\n\\\\n    if(!.get(canvasName)) return;\\\\n\\\\n    fixHtml();\\\\n\\\\n    let canvas = .get(canvasName),\\\\n      ctx = canvas.getContext(2d),\\\\n      framerate = Math.floor(1000 / 60),\\\\n      bgColor,\\\\n      seconds = 0,\\\\n      seconds_half = 0,\\\\n      paused_state = false,\\\\n      speed = 200,\\\\n      color_options = null;\\\\n\\\\n    let percentile_right,\\\\n      percentile_left,\\\\n      percentile_down,\\\\n      percentile_up,\\\\n      percentile_rand1;\\\\n\\\\n    let diameter_factor,\\\\n      initial_d_value,\\\\n      minimum_diameter;\\\\n\\\\n    let Circle,\\\\n      Square,\\\\n      Hourglass,\\\\n      Bowtie,\\\\n      Cross,\\\\n      Diagonal_1,\\\\n      Diagonal_2;\\\\n\\\\n    .get(.button_play).style.backgroundColor = #C0D890;\\\\n    .get(.button_play).style.color = #333;\\\\n    setInterval(update, framerate);\\\\n\\\\n    function update() \\\\n      if(!.get(canvasName)) return;\\\\n      if(!paused_state) \\\\n        bgColor = .get(#BgColor).value.length > 0 ? .get(#BgColor).value.toLowerCase() : black;\\\\n        initial_d_value = .get(#InitialD).value;\\\\n\\\\n        color_options = \\\\n          hue: .get(#Hue).value.length > 0 ? .get(#Hue).value.toLowerCase() : ,\\\\n          luminosity: .get(#Luminosity).value.length > 0 ? .get(#Luminosity).value.toLowerCase() : ,\\\\n          alpha: 1\\\\n        ;\\\\n\\\\n        diameter_factor = Number(.get(#Diameterfactor).value) * 0.01;\\\\n        minimum_diameter = .get(#MinDiameter).value;\\\\n\\\\n        percentile_right = .get(#Right).value;\\\\n        percentile_left = .get(#Left).value;\\\\n        percentile_down = .get(#Down).value;\\\\n        percentile_up = .get(#Up).value;\\\\n        percentile_rand1 = .get(#Random).value;\\\\n\\\\n        Circle = .get(#Circle).value;\\\\n        Square = .get(#Square).value;\\\\n        Hourglass = .get(#Hourglass).value;\\\\n        Bowtie = .get(#Bowtie).value;\\\\n        Cross = .get(#Cross).value;\\\\n        Diagonal_1 = .get(#Diagonal_1).value;\\\\n        Diagonal_2 = .get(#Diagonal_2).value;\\\\n\\\\n        drawShape(canvas.width / 2, canvas.height / 2, initial_d_value);\\\\n      \\\\n    \\\\n\\\\n    function drawShape(x, y, d) \\\\n      if(d === initial_d_value) \\\\n        ctx.fillStyle = bgColor;\\\\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\\\\n      \\\\n\\\\n      ctx.beginPath();\\\\n      ctx.strokeStyle = rc.randomColor(color_options);\\\\n\\\\n      if(getRandomInt(0, 100) >= (100 - Square)) \\\\n        ctx.rect(x - (d / 2), y - (d / 2), d, d);\\\\n       else if(getRandomInt(0, 100) >= (100 - Hourglass)) \\\\n        ctx.beginPath();\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x - (d / 2), y + (d / 2));\\\\n        ctx.lineTo(x + (d / 2), y + (d / 2));\\\\n        ctx.lineTo(x - (d / 2), y - (d / 2));\\\\n        ctx.lineTo(x + (d / 2), y - (d / 2));\\\\n        ctx.closePath();\\\\n       else if(getRandomInt(0, 100) >= (100 - Cross)) \\\\n        ctx.beginPath();\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x - (d / 2), y + (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x + (d / 2), y + (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x - (d / 2), y - (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x + (d / 2), y - (d / 2));\\\\n       else if(getRandomInt(0, 100) >= (100 - Diagonal_1)) \\\\n        ctx.beginPath();\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x - (d / 2), y + (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x + (d / 2), y - (d / 2));\\\\n       else if(getRandomInt(0, 100) >= (100 - Diagonal_2)) \\\\n        ctx.beginPath();\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x - (d / 2), y - (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x + (d / 2), y + (d / 2));\\\\n       else if(getRandomInt(0, 100) >= (100 - Bowtie)) \\\\n        ctx.beginPath();\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x - (d / 2), y - (d / 2));\\\\n        ctx.lineTo(x - (d / 2), y + (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x + (d / 2), y - (d / 2));\\\\n        ctx.lineTo(x + (d / 2), y + (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x + (d / 2), y + (d / 2));\\\\n        ctx.moveTo(x, y);\\\\n        ctx.lineTo(x - (d / 2), y + (d / 2));\\\\n       else if(getRandomInt(0, 100) >= (100 - Circle)) \\\\n        ctx.ellipse(x, y, (d / 2), (d / 2), 2 * Math.PI, 0, 2 * Math.PI);\\\\n      \\\\n\\\\n      ctx.stroke();\\\\n\\\\n      if(d > minimum_diameter) \\\\n        if(getRandomInt(0, 100) >= (100 - percentile_right)) \\\\n          drawShape(x + (d * diameter_factor), y, d * diameter_factor);\\\\n         // Right\\\\n        if(getRandomInt(0, 100) >= (100 - percentile_left)) \\\\n          drawShape(x - (d * diameter_factor), y, d * diameter_factor);\\\\n         // Left\\\\n        if(getRandomInt(0, 100) >= (100 - percentile_up)) \\\\n          drawShape(x, y - (d * diameter_factor), d * diameter_factor);\\\\n         // Up\\\\n        if(getRandomInt(0, 100) >= (100 - percentile_down)) \\\\n          drawShape(x, y + (d * diameter_factor), d * diameter_factor);\\\\n         // Down\\\\n        if(getRandomInt(0, 100) >= (100 - percentile_rand1)) \\\\n          drawShape(getRandomInt(0, canvas.width), getRandomInt(0, canvas.height), d * diameter_factor);\\\\n         // Random 1\\\\n      \\\\n    \\\\n\\\\n    window.Pause = () => \\\\n      .get(.button_play).style.backgroundColor = transparent;\\\\n      .get(.button_pause).style.backgroundColor = #ED4337;\\\\n      .get(.button_pause).style.color = #333;\\\\n      .get(.button_play).style.color = #C0D890;\\\\n      paused_state = true;\\\\n    ;\\\\n\\\\n    window.Play = () => \\\\n      .get(.button_play).style.backgroundColor = #C0D890;\\\\n      .get(.button_play).style.color = #333;\\\\n      .get(.button_pause).style.backgroundColor = transparent;\\\\n      .get(.button_pause).style.color = #ED4337;\\\\n      paused_state = false;\\\\n    ;\\\\n\\\\n    window.PlusOneFrame = () => \\\\n      paused_state = true;\\\\n      setTimeout(Play, 10);\\\\n      setTimeout(Pause, framerate * 1.5);\\\\n    ;\\\\n\\\\n    function getRandomInt(min, max) \\\\n      return Math.floor(Math.random() * (Math.floor(max) - Math.ceil(min))) + Math.ceil(min);\\\\n    \\\\n  \\\\n;\\\\n\\\\nfunction fixHtml() \\\\n  .add(.get(.demo-addons), .getElement(\\\\n    class: button_play,\\\\n    onclick: javascript:Play();,\\\\n    contains: Play\\\\n  ) + .getElement(\\\\n    class: button_pause,\\\\n    onclick: javascript:Pause();,\\\\n    contains: Pause\\\\n  ) + .getElement(\\\\n    class: button-demo-extra,\\\\n    onclick: javascript:PlusOneFrame();,\\\\n    contains: Reframe\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: text,\\\\n    placeholder: Background Color ( color | hex ),\\\\n    id: BgColor\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: text,\\\\n    placeholder: Hue ( color | hex | monochrome ),\\\\n    id: Hue\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: text,\\\\n    placeholder: Luminocity ( bright | light | dark ),\\\\n    id: Luminosity\\\\n  ) + .getElement(\\\\n    contains: Zoom,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 1,\\\\n    max: 50,\\\\n    value: 50,\\\\n    class: demo-range demo-range_b,\\\\n    id: Diameterfactor\\\\n  ) + .getElement(\\\\n    contains: Reduction Factor,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 150,\\\\n    max: 950,\\\\n    value: 300,\\\\n    class: demo-range demo-range_b,\\\\n    id: InitialD\\\\n  ) + .getElement(\\\\n    contains: Miminum Diameter,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 10,\\\\n    max: 15,\\\\n    value: 10,\\\\n    class: demo-range demo-range_b,\\\\n    id: MinDiameter\\\\n  ) + .getElement(\\\\n    contains: Right,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range demo-range_g,\\\\n    id: Right,\\\\n    value: 100\\\\n  ) + .getElement(\\\\n    contains: Left,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range demo-range_g,\\\\n    id: Left,\\\\n    value: 100\\\\n  ) + .getElement(\\\\n    contains: Up,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range demo-range_g,\\\\n    id: Up\\\\n  ) + .getElement(\\\\n    contains: Down,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range demo-range_g,\\\\n    id: Down\\\\n  ) + .getElement(\\\\n    contains: Random Artifacts,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range demo-range_o,\\\\n    id: Random,\\\\n    value: 0\\\\n  ) + .getElement(\\\\n    contains: Circle,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range,\\\\n    id: Circle,\\\\n    value: 100\\\\n  ) + .getElement(\\\\n    contains: Square,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range,\\\\n    id: Square,\\\\n    value: 0\\\\n  ) + .getElement(\\\\n    contains: Hourglass,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range,\\\\n    id: Hourglass,\\\\n    value: 0\\\\n  ) + .getElement(\\\\n    contains: Bowtie,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range,\\\\n    id: Bowtie,\\\\n    value: 0\\\\n  ) + .getElement(\\\\n    contains: Cross,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range,\\\\n    id: Cross,\\\\n    value: 0\\\\n  ) + .getElement(\\\\n    contains: Diagonal 1,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range,\\\\n    id: Diagonal_1,\\\\n    value: 0\\\\n  ) + .getElement(\\\\n    contains: Diagonal 2,\\\\n    class: demo-label\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: range,\\\\n    min: 0,\\\\n    max: 100,\\\\n    class: demo-range,\\\\n    id: Diagonal_2,\\\\n    value: 0\\\\n  ));\\\\n';\\n      if (/automated pong/gi.test(_p)) _project = '// Author: Kaden Griffith\\\\n// Descr : Automated Pong\\\\n\\\\nconst  = require(kbrew_hypertxt)();\\\\n\\\\nmodule.exports = \\\\n  Project2: () => \\\\n    use strict;\\\\n\\\\n    const canvasName = #Automated_Pong;\\\\n\\\\n    if(!.get(canvasName)) return;\\\\n\\\\n    let canvas = .get(canvasName),\\\\n      ctx = canvas.getContext(2d),\\\\n      fontSize = 16,\\\\n      fontColor = #f4f4f4,\\\\n      xSpacing = 15,\\\\n      aiSpeed = 5.2,\\\\n      p1y, p2y, bx, by, yv,\\\\n      ph = 70,\\\\n      br = 6,\\\\n      pt = 8,\\\\n      dy = 0,\\\\n      xv = 9,\\\\n      score1 = 0,\\\\n      score2 = 0;\\\\n\\\\n    function getRandomInt(min, max) \\\\n      return Math.floor(Math.random() * (Math.floor(max) - Math.ceil(min))) + Math.ceil(min);\\\\n    \\\\n\\\\n    function reset_default() \\\\n      let dir = xv;\\\\n      if(dir < 0) \\\\n        bx = canvas.width / 4;\\\\n       else \\\\n        bx = 3 * canvas.width / 4;\\\\n      \\\\n      by = canvas.height / 2;\\\\n      xv = -xv;\\\\n      yv = getRandomInt(-3, 3);\\\\n    \\\\n\\\\n    function reset() \\\\n      p1y = canvas.height / 2 - ph / 2;\\\\n      p2y = canvas.height / 2 - ph / 2;\\\\n      bx = canvas.width / 2;\\\\n      by = canvas.height / 2;\\\\n      xv = -xv;\\\\n      yv = getRandomInt(-3, 3);\\\\n    \\\\n\\\\n    function update() \\\\n      if(Math.abs(yv) < 0.5) \\\\n        yv = getRandomInt(-3, 3);\\\\n      \\\\n\\\\n      if(by < br && yv < 0) \\\\n        yv = -yv;\\\\n      \\\\n\\\\n      if(by > canvas.height - br && yv > 0) \\\\n        yv = -yv;\\\\n      \\\\n\\\\n      if(p1y < 0) \\\\n        p1y = 0;\\\\n      \\\\n\\\\n      if(p2y < 0) \\\\n        p2y = 0;\\\\n      \\\\n\\\\n      if(p1y + ph > canvas.height) \\\\n        p1y = canvas.height - ph;\\\\n      \\\\n\\\\n      if(p2y + ph > canvas.height) \\\\n        p2y = canvas.height - ph;\\\\n      \\\\n\\\\n      if(bx < xSpacing + (2 * br) + pt) \\\\n        if(by > p1y && by <= p1y + ph) \\\\n          xv = -xv;\\\\n          dy = by - (p1y + ph / 2);\\\\n          yv = dy * (0.4);\\\\n         else if(bx < xSpacing) \\\\n          score2++;\\\\n          reset_default();\\\\n        \\\\n      \\\\n\\\\n      if(bx > (canvas.width - xSpacing) - pt - (br / 2)) \\\\n        if(by > p2y && by <= p2y + ph) \\\\n          xv = -xv;\\\\n          dy = by - (p2y + ph / 2);\\\\n          yv = dy * (0.4);\\\\n         else if(bx > canvas.width - xSpacing) \\\\n          score1++;\\\\n          reset_default();\\\\n        \\\\n      \\\\n\\\\n      bx += xv;\\\\n      by += yv;\\\\n\\\\n      //player on the left\\\\n      if(p1y + ph / 2 < by && bx < 3 * canvas.width / 4) \\\\n        if(xv > 0) \\\\n          p1y += 0;\\\\n         else if(p1y < 0 || p1y + ph > canvas.height && (by > (p1y + ph / 8) && by < p1y + (ph - ph / 8))) \\\\n          p1y += (aiSpeed * 0.5);\\\\n         else if(by > (p1y + ph / 3) && by < p1y + (ph - ph / 3)) \\\\n          p1y += (aiSpeed * 0.2);\\\\n         else if(bx < canvas.width / 10) \\\\n          p1y += (aiSpeed * 0.75);\\\\n         else if(bx < 2 * canvas.width / 10 && bx > canvas.width / 10) \\\\n          p1y += (aiSpeed * 0.78);\\\\n         else \\\\n          p1y += (aiSpeed * 0.8);\\\\n        \\\\n       else if(p1y + ph / 2 > by && bx < 3 * canvas.width / 4) \\\\n        if(xv > 0) \\\\n          p1y -= 0;\\\\n         else if(p1y < 0 || p1y + ph > canvas.height && (by > (p1y + ph / 8) && by < p1y + (ph - ph / 8))) \\\\n          p1y -= (aiSpeed * 0.5);\\\\n         else if(by > (p1y + ph / 3) && by < p1y + (ph - ph / 3)) \\\\n          p1y -= (aiSpeed * 0.2);\\\\n         else if(bx < canvas.width / 10) \\\\n          p1y -= (aiSpeed * 0.75);\\\\n         else if(bx < 2 * canvas.width / 10 && bx > canvas.width / 10) \\\\n          p1y -= (aiSpeed * 0.78);\\\\n         else \\\\n          p1y -= (aiSpeed * 0.8);\\\\n        \\\\n      \\\\n\\\\n      //player on the right\\\\n      if(p2y + ph / 2 < by && bx > canvas.width / 4) \\\\n        if(xv < 0) \\\\n          p2y += 0;\\\\n         else if(p2y < 0 || p2y + ph > canvas.height && (by > (p2y + ph / 8) && by < p2y + (ph - ph / 8))) \\\\n          p2y += (aiSpeed * 0.5);\\\\n         else if(by > (p2y + ph / 3) && by < p2y + (ph - ph / 3)) \\\\n          p2y += (aiSpeed * 0.2);\\\\n         else if(bx > 9 * canvas.width / 10) \\\\n          p2y += (aiSpeed * 0.75);\\\\n         else if(bx > 8 * canvas.width / 10 && bx < 9 * canvas.width / 10) \\\\n          p2y += (aiSpeed * 0.78);\\\\n         else \\\\n          p2y += (aiSpeed * 0.8);\\\\n        \\\\n       else if(p2y + ph / 2 > by && bx > canvas.width / 4) \\\\n        if(xv < 0) \\\\n          p2y -= 0;\\\\n         else if(p2y < 0 || p2y + ph > canvas.height && (by > (p2y + ph / 8) && by < p2y + (ph - ph / 8))) \\\\n          p2y -= (aiSpeed * 0.5);\\\\n         else if(by > (p2y + ph / 3) && by < p2y + (ph - ph / 3)) \\\\n          p2y -= (aiSpeed * 0.2);\\\\n         else if(bx > 9 * canvas.width / 10) \\\\n          p2y -= (aiSpeed * 0.75);\\\\n         else if(bx > 8 * canvas.width / 10 && bx < 9 * canvas.width / 10) \\\\n          p2y -= (aiSpeed * 0.78);\\\\n         else \\\\n          p2y -= (aiSpeed * 0.8);\\\\n        \\\\n      \\\\n\\\\n      draw();\\\\n    \\\\n\\\\n    function draw() \\\\n      function fRect(x, y, w, h) \\\\n        x = parseInt(x);\\\\n        y = parseInt(y);\\\\n        ctx.fillRect(x, y, w, h);\\\\n      \\\\n\\\\n      ctx.fillStyle = black;\\\\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\\\\n      ctx.fillStyle = ctx.strokeStyle = fontColor;\\\\n      fRect(xSpacing, p1y, pt, ph);\\\\n      fRect(((canvas.width - pt) - xSpacing), p2y, pt, ph);\\\\n      ctx.font = fontSizepx Ubuntu;\\\\n      ctx.fillText(score1, 40, 30);\\\\n      ctx.fillText(score2, canvas.width - 50, 30);\\\\n      ctx.beginPath();\\\\n      ctx.ellipse(bx - br / 2, by - br / 2, br, br, 2 * Math.PI, Math.PI, 180);\\\\n      ctx.fill();\\\\n    \\\\n\\\\n    reset();\\\\n    setInterval(update, 1000 / 60);\\\\n  \\\\n;';\\n      if (/simple math game/gi.test(_p)) _project = '// Author: Kaden Griffith\\\\n// Descr : Simple Math Game\\\\n\\\\nconst  = require(kbrew_hypertxt)();\\\\n\\\\nmodule.exports = \\\\n  Project3: () => \\\\n    use strict;\\\\n\\\\n    const canvasName = #Simple_Math_Game;\\\\n\\\\n    if(!.get(canvasName)) return;\\\\n\\\\n    fixHtml();\\\\n\\\\n    window.addEventListener(keypress, (e) => \\\\n      keyPressed = e.key;\\\\n    );\\\\n\\\\n    let canvas = .get(canvasName),\\\\n      ctx = canvas.getContext(2d),\\\\n      textInitialPosition = 13,\\\\n      textIndent = 13,\\\\n      lineNumber = 1,\\\\n      fontSize = 16,\\\\n      fontColor = #f4f4f4,\\\\n      score = 0,\\\\n      point = [1, point],\\\\n      a,\\\\n      b,\\\\n      keyPressed,\\\\n      ops = [\\\\n          sign: +,\\\\n          method: (a, b) => a + b\\\\n        ,\\\\n        \\\\n          sign: -,\\\\n          method: (a, b) => a - b\\\\n        ,\\\\n        \\\\n          sign: *,\\\\n          method: (a, b) => a * b\\\\n        \\\\n      ],\\\\n      operator,\\\\n      answer,\\\\n      word = [],\\\\n      preventTouch = false,\\\\n      gameDelay = 10000,\\\\n      keyFrame = 0;\\\\n\\\\n    canvas.addEventListener(touchstart, (e) => \\\\n      keyPressed = Enter;\\\\n    );\\\\n\\\\n    function setup() \\\\n      preventTouch = false;\\\\n      ctx.font = fontSizepx Monospace;\\\\n      selectProblem();\\\\n      answer = operator.method(a, b);\\\\n      if(answer < 0) return setup();\\\\n      keyFrame = 0;\\\\n    \\\\n\\\\n    setInterval(update, 1000 / 60);\\\\n\\\\n    function update() \\\\n      keyFrame++;\\\\n      if(keyFrame === gameDelay * 60 / 1000) \\\\n        keyFrame = 0;\\\\n        selectProblem();\\\\n      \\\\n      if(keyPressed) \\\\n        if(keyPressed !== Enter) \\\\n          word.push(keyPressed);\\\\n          writeChar(keyPressed);\\\\n         else \\\\n          textIndent = textInitialPosition;\\\\n          lineNumber++;\\\\n          game();\\\\n        \\\\n        keyPressed = undefined;\\\\n      \\\\n    \\\\n\\\\n    function game() \\\\n      let _input = Number(word.join().replace(/,/g, ));\\\\n      word = [];\\\\n      preventTouch = true;\\\\n      if(_input === answer) \\\\n        write(Thats correct!);\\\\n        score++;\\\\n        setup();\\\\n       else \\\\n        write(Incorrect.);\\\\n        setTimeout(setup, 1000);\\\\n      \\\\n    \\\\n\\\\n    function getRandomInteger(min, max) \\\\n      return Math.floor(Math.random() * (max - min) + min);\\\\n    \\\\n\\\\n    function calcY(a, b, c) \\\\n      return b * c + a;\\\\n    \\\\n\\\\n    function selectProblem() \\\\n      clear();\\\\n      a = getRandomInteger(1, 10);\\\\n      b = getRandomInteger(1, 10);\\\\n      operator = ops[Math.floor(Math.random() * ops.length)];\\\\n      reportScore();\\\\n      write(Solve a operator.sign b = ?);\\\\n    \\\\n\\\\n    function reportScore() \\\\n      write(score === 1 ? Score: score point[1] : Score: score point[1]s);\\\\n    \\\\n\\\\n    function write(what) \\\\n      ctx.fillStyle = fontColor;\\\\n\\\\n      let _y = calcY(textInitialPosition, lineNumber, fontSize);\\\\n\\\\n      if(_y > canvas.height - fontSize) \\\\n        return selectProblem();\\\\n      \\\\n\\\\n      ctx.fillText(what, textInitialPosition, _y);\\\\n      lineNumber++;\\\\n    \\\\n\\\\n    function writeChar(what) \\\\n      ctx.fillStyle = fontColor;\\\\n      let _y = calcY(textInitialPosition, lineNumber, fontSize);\\\\n      ctx.fillText(what, textIndent, _y);\\\\n      textIndent += fontSize / 2;\\\\n    \\\\n\\\\n    function clear() \\\\n      lineNumber = 1;\\\\n      ctx.fillStyle = black;\\\\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\\\\n    \\\\n\\\\n    setup();\\\\n  \\\\n;\\\\n\\\\nwindow.showKeyboard = () => \\\\n  .get(#show-the-world-a-secret).focus();\\\\n;\\\\n\\\\nfunction fixHtml() \\\\n  .add(.get(.demo-addons), .getElement(\\\\n    class: button-demo-extra,\\\\n    onclick: javascript:showKeyboard();,\\\\n    contains: Show Keyboard\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: number,\\\\n    inputmode: numeric,\\\\n    pattern: [0-9]*,\\\\n    style: position:absolute;left:-9999px;top:-9999px;,\\\\n    id: show-the-world-a-secret\\\\n  ));\\\\n';\\n      if (/guess the number/gi.test(_p)) _project = '// Author: Kaden Griffith\\\\n// Descr : Guess The Number\\\\n\\\\nconst  = require(kbrew_hypertxt)();\\\\n\\\\nmodule.exports = \\\\n  Project4: () => \\\\n    use strict;\\\\n\\\\n    const canvasName = #Guess_The_Number;\\\\n\\\\n    if(!.get(canvasName)) return;\\\\n\\\\n    fixHtml();\\\\n\\\\n    window.addEventListener(keypress, (e) => \\\\n      keyPressed = e.key;\\\\n    );\\\\n\\\\n    let canvas = .get(canvasName),\\\\n      ctx = canvas.getContext(2d),\\\\n      fontSize = 14,\\\\n      fontColor = #f4f4f4,\\\\n      textInitialPosition = 13,\\\\n      textIndent = 13,\\\\n      lineNumber = 1,\\\\n      gameDelay = 10000,\\\\n      keyPressed,\\\\n      number,\\\\n      word = [],\\\\n      preventTouch = false,\\\\n      history = [];\\\\n\\\\n    canvas.addEventListener(touchstart, (e) => \\\\n      keyPressed = Enter;\\\\n    );\\\\n\\\\n    function setup() \\\\n      preventTouch = false;\\\\n      history = [];\\\\n      ctx.font = fontSizepx Monospace;\\\\n      clear();\\\\n      number = getRandomInteger(1, 100);\\\\n      setInterval(update, 1000 / 60);\\\\n    \\\\n\\\\n    function update() \\\\n      if(keyPressed) \\\\n        if(keyPressed !== Enter) \\\\n          word.push(keyPressed);\\\\n          writeChar(keyPressed);\\\\n         else \\\\n          textIndent = textInitialPosition;\\\\n          lineNumber++;\\\\n          game();\\\\n        \\\\n        keyPressed = undefined;\\\\n      \\\\n    \\\\n\\\\n    function game() \\\\n      let _guess = Number(word.join().replace(/,/g, ));\\\\n      if(!isNaN(_guess)) history.unshift(_guess);\\\\n      rewriteGuesses();\\\\n      word = [];\\\\n      if(_guess === number) \\\\n        preventTouch = true;\\\\n        if(history.length > 1) \\\\n          write(Thats correct!);\\\\n          write(You won in history.length attempts.);\\\\n         else\\\\n        if(history.length === 1) \\\\n          write(Youre a guessing master!);\\\\n          write(You won in 1 attempt!);\\\\n        \\\\n        setTimeout(setup, gameDelay);\\\\n       else if(_guess < number) \\\\n        write(Too low! Guess again.);\\\\n       else if(_guess > number) \\\\n        write(Too high! Guess again.);\\\\n       else \\\\n        write(Please guess a number.);\\\\n      \\\\n    \\\\n\\\\n    function getRandomInteger(min, max) \\\\n      return Math.floor(Math.random() * (max - min) + min);\\\\n    \\\\n\\\\n    function calcY(a, b, c) \\\\n      return b * c + a;\\\\n    \\\\n\\\\n    function write(what) \\\\n      ctx.fillStyle = fontColor;\\\\n\\\\n      let _y = calcY(textInitialPosition, lineNumber, fontSize);\\\\n\\\\n      if(_y > canvas.height - fontSize) \\\\n        clear();\\\\n        _y = calcY(textInitialPosition, lineNumber, fontSize);\\\\n      \\\\n\\\\n      ctx.fillText(what, textInitialPosition, _y);\\\\n      lineNumber++;\\\\n    \\\\n\\\\n    function writeChar(what) \\\\n      ctx.fillStyle = fontColor;\\\\n      let _y = calcY(textInitialPosition, lineNumber, fontSize);\\\\n      ctx.fillText(what, textIndent, _y);\\\\n      textIndent += fontSize / 2;\\\\n    \\\\n\\\\n    function rewriteGuesses(addLine = false) \\\\n      // Cover previous array\\\\n      ctx.fillStyle = black;\\\\n      ctx.fillRect(0, (3 * fontSize), canvas.width, 1.2 * fontSize);\\\\n\\\\n      let _y = textInitialPosition + (3 * fontSize);\\\\n      ctx.fillStyle = fontColor;\\\\n      ctx.fillText([history.join(, ).substring(0, canvas.width / fontSize)], textIndent, _y);\\\\n      if(addLine) lineNumber++;\\\\n    \\\\n\\\\n    function clear() \\\\n      lineNumber = 1;\\\\n      ctx.fillStyle = black;\\\\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\\\\n      write(Welcome to the guessing game.);\\\\n      write(Guess a number between 1 and 100.);\\\\n      rewriteGuesses(true);\\\\n      lineNumber++;\\\\n    \\\\n\\\\n    setup();\\\\n  \\\\n;\\\\n\\\\nwindow.showKeyboard = () => \\\\n  .get(#show-the-world-a-secret).focus();\\\\n;\\\\n\\\\nfunction fixHtml() \\\\n  .add(.get(.demo-addons), .getElement(\\\\n    class: button-demo-extra,\\\\n    onclick: javascript:showKeyboard();,\\\\n    contains: Show Keyboard\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: number,\\\\n    inputmode: numeric,\\\\n    pattern: [0-9]*,\\\\n    style: position:absolute;left:-9999px;top:-9999px;,\\\\n    id: show-the-world-a-secret\\\\n  ));\\\\n';\\n      if (/snake/gi.test(_p)) _project = '// Author: Kaden Griffith\\\\n// Descr : Snake\\\\n\\\\nconst  = require(kbrew_hypertxt)();\\\\n\\\\nmodule.exports = \\\\n  Project5: () => \\\\n    use strict;\\\\n\\\\n    const canvasName = #Snake;\\\\n\\\\n    if(!.get(canvasName)) return;\\\\n\\\\n    fixHtml();\\\\n\\\\n    let canvas = .get(canvasName),\\\\n      ctx = canvas.getContext(2d),\\\\n      xv = 0,\\\\n      yv = 0,\\\\n      tail = 5,\\\\n      trail = [],\\\\n      px = 0,\\\\n      py = 0,\\\\n      fx = 0,\\\\n      fy = 0,\\\\n      score = 0,\\\\n      mult = 0,\\\\n      gameDifficulty = 8,\\\\n      grid = Math.floor(Math.sqrt(canvas.height)),\\\\n      tc = Math.floor(Math.sqrt(canvas.height));\\\\n\\\\n    px = getRandomPosition(0, tc);\\\\n    py = getRandomPosition(0, tc);\\\\n\\\\n    fx = getRandomPosition(0, tc);\\\\n    fy = getRandomPosition(0, tc);\\\\n\\\\n    window.addEventListener(keypress, (e) => \\\\n      if(/w/gi.test(e.key)) \\\\n        xv = 0;\\\\n        yv = -1;\\\\n       else if(/a/gi.test(e.key)) \\\\n        xv = -1;\\\\n        yv = 0;\\\\n       else if(/s/gi.test(e.key)) \\\\n        xv = 0;\\\\n        yv = 1;\\\\n       else if(/d/gi.test(e.key)) \\\\n        xv = 1;\\\\n        yv = 0;\\\\n      \\\\n    );\\\\n\\\\n    window.addEventListener(touchstart, handleTouchStart, false);\\\\n    window.addEventListener(touchmove, handleTouchMove, false);\\\\n\\\\n    let xDown = null,\\\\n      yDown = null;\\\\n\\\\n    function handleTouchStart(evt) \\\\n      xDown = evt.touches[0].clientX;\\\\n      yDown = evt.touches[0].clientY;\\\\n    \\\\n\\\\n    function handleTouchMove(evt) \\\\n      if(!xDown || !yDown) \\\\n        return;\\\\n      \\\\n\\\\n      let xUp = evt.touches[0].clientX,\\\\n        yUp = evt.touches[0].clientY,\\\\n\\\\n        xDiff = xDown - xUp,\\\\n        yDiff = yDown - yUp;\\\\n\\\\n      if(Math.abs(xDiff) > Math.abs(yDiff)) \\\\n        if(xDiff > 0) \\\\n          /* left swipe */\\\\n          xv = -1;\\\\n          yv = 0;\\\\n         else \\\\n          /* right swipe */\\\\n          xv = 1;\\\\n          yv = 0;\\\\n        \\\\n       else \\\\n        if(yDiff > 0) \\\\n          /* up swipe */\\\\n          xv = 0;\\\\n          yv = -1;\\\\n         else \\\\n          /* down swipe */\\\\n          xv = 0;\\\\n          yv = 1;\\\\n        \\\\n      \\\\n      xDown = null;\\\\n      yDown = null;\\\\n    \\\\n\\\\n    setInterval(update, 1000 / gameDifficulty);\\\\n\\\\n    function update() \\\\n      if(!.get(canvasName)) return;\\\\n      draw();\\\\n\\\\n      px += xv;\\\\n      py += yv;\\\\n\\\\n      if(px < 0) \\\\n        px = tc + 1;\\\\n      \\\\n      if(px > tc + 1) \\\\n        px = 0;\\\\n      \\\\n      if(py < -0.5) \\\\n        py = tc + 1;\\\\n      \\\\n      if(py > tc + 1) \\\\n        py = 0;\\\\n      \\\\n    \\\\n\\\\n    function draw() \\\\n      ctx.font = 16px Ubuntu;\\\\n      ctx.fillStyle = #f4f4f4;\\\\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\\\\n\\\\n      ctx.fillStyle = #f4f4f4;\\\\n      ctx.beginPath();\\\\n\\\\n      ctx.ellipse((fx * grid) + (grid / 2) - 1, (fy * grid) + (grid / 2) - 1, (grid / 2) - 2, (grid / 2) - 2, 2 * Math.PI, Math.PI, 180);\\\\n\\\\n      ctx.fill();\\\\n      ctx.stroke();\\\\n      ctx.fillStyle = #aaa;\\\\n\\\\n      for(let i = 0; i < trail.length; i++) \\\\n        ctx.fillRect(trail[i].x * grid, trail[i].y * grid, grid - 2, grid - 2);\\\\n        if(trail[i].x === px && trail[i].y === py) \\\\n          mult = 0;\\\\n          score = 0;\\\\n          gameDifficulty = 8;\\\\n          tail = 5;\\\\n        \\\\n      \\\\n      trail.push(\\\\n        x: px,\\\\n        y: py\\\\n      );\\\\n\\\\n      while(trail.length > tail) \\\\n        trail.shift();\\\\n      \\\\n\\\\n      ctx.fillStyle = #111;\\\\n      ctx.fillText(Score:  + score, 20, canvas.height - 50);\\\\n      ctx.fillText(Food Collected:  + mult, 20, canvas.height - 25);\\\\n\\\\n      if(fx === px && fy === py) \\\\n        score = score + 20 * tail;\\\\n        mult = mult + tail / trail.length;\\\\n        gameDifficulty = gameDifficulty + 1;\\\\n        tail++;\\\\n        fx = getRandomPosition(0, tc);\\\\n        fy = getRandomPosition(0, tc);\\\\n      \\\\n    \\\\n\\\\n    function getRandomPosition(min, max) \\\\n      return Math.floor(Math.random() * (max - min) + min);\\\\n    \\\\n  \\\\n;\\\\n\\\\nwindow.preventScrolling = () => \\\\n  if(.get(#popover).style.overflowY === hidden) \\\\n    .get(#wrapper).style.position = absolute;\\\\n    .get(.project-scroller-container).style.overflowY = scroll;\\\\n    .get(#popover).style.overflowY = scroll;\\\\n    .get(.demo-code).style.overflow = scroll;\\\\n    .get(.button-demo-extra).style.backgroundColor = transparent;\\\\n    .get(.button-demo-extra).innerHTML = Disable Scroll;\\\\n   else \\\\n    .get(#wrapper).style.position = fixed;\\\\n    .get(.project-scroller-container).style.overflowY = hidden;\\\\n    .get(#popover).style.overflowY = hidden;\\\\n    .get(.demo-code).style.overflow = hidden;\\\\n    .get(.button-demo-extra).style.backgroundColor = gold;\\\\n    .get(.button-demo-extra).innerHTML = Enable Scroll;\\\\n  \\\\n;\\\\n\\\\nfunction fixHtml() \\\\n  .add(.get(.demo-addons), .getElement(\\\\n    class: button-demo-extra,\\\\n    onclick: javascript:preventScrolling();,\\\\n    contains: Disable Scroll\\\\n  ));\\\\n';\\n      if (/color viewer/gi.test(_p)) _project = '// Author: Kaden Griffith\\\\n// Descr : Color Viewer\\\\n\\\\nconst  = require(kbrew_hypertxt)();\\\\n\\\\nwindow.p6 = \\\\n  internalColor: \\\\n    red: 255,\\\\n    green: 255,\\\\n    blue: 255,\\\\n    alpha: 100\\\\n  ,\\\\n  font_shown: true,\\\\n  fontColor: black,\\\\n  backgroundColor: black\\\\n;\\\\n\\\\nmodule.exports = \\\\n  Project6: () => \\\\n    use strict;\\\\n\\\\n    let canvasName = #Color_Viewer;\\\\n\\\\n    let view,\\\\n      view_preview,\\\\n      canvas = .get(canvasName),\\\\n      ctx = canvas.getContext(2d),\\\\n      framerate = 1000 / 60;\\\\n\\\\n    if(!.get(canvasName)) return;\\\\n\\\\n    fixHtml();\\\\n\\\\n    setInterval(update, framerate);\\\\n\\\\n    function update() \\\\n      if(!.get(canvasName)) return;\\\\n\\\\n      p6.internalColor.red = .get(.demo-range_r).value;\\\\n      p6.internalColor.green = .get(.demo-range_g).value;\\\\n      p6.internalColor.blue = .get(.demo-range_b).value;\\\\n      p6.internalColor.alpha = .get(.demo-range_a).value;\\\\n\\\\n      let rgba = colorString(),\\\\n        hex = hexString();\\\\n\\\\n      .get(#hidden-copy-color).value = rgba;\\\\n      .get(#hidden-copy-hex).value = hex;\\\\n\\\\n      if(!.get(#currentColor).innerHTML.includes(rgba) || .get(#backgroundColor).value !== p6.backgroundColor || .get(#fontColor).value !== p6.fontColor) \\\\n        .get(#currentColor).innerHTML = rgba hex;\\\\n\\\\n        draw();\\\\n      \\\\n    \\\\n\\\\n    function draw() \\\\n      let _w = canvas.width,\\\\n        _h = canvas.height;\\\\n\\\\n      p6.backgroundColor = .get(#backgroundColor).value ? .get(#backgroundColor).value : p6.backgroundColor;\\\\n      p6.fontColor = .get(#fontColor).value ? .get(#fontColor).value : p6.fontColor;\\\\n\\\\n      ctx.beginPath();\\\\n      ctx.fillStyle = p6.backgroundColor;\\\\n      ctx.fillRect(0, 0, _w, _h);\\\\n      ctx.fillStyle = colorString();\\\\n      ctx.fillRect(0, 0, _w, _h);\\\\n      if(p6.font_shown) \\\\n        ctx.font =  _w / 2px Dancing Script, cursive;\\\\n        ctx.textAlign = center;\\\\n        ctx.textBaseline = middle;\\\\n        ctx.fillStyle = p6.fontColor;\\\\n        ctx.fillText(Foo, _w / 2, _h / 2);\\\\n      \\\\n    \\\\n  \\\\n;\\\\n\\\\nfunction hexString() \\\\n  let componentToHex = (c) => \\\\n    let hex = Number(c).toString(16);\\\\n    return hex.length == 1 ? 0hex : hex;\\\\n  \\\\n\\\\n  return #componentToHex(p6.internalColor.red)componentToHex(p6.internalColor.green)componentToHex(p6.internalColor.blue);\\\\n\\\\n\\\\nfunction colorString() \\\\n  return rgba(p6.internalColor.red, p6.internalColor.green, p6.internalColor.blue, p6.internalColor.alpha / 100);\\\\n\\\\n\\\\nwindow.toggleFont = () => \\\\n  p6.font_shown = !p6.font_shown;\\\\n  .get(.button-demo-extra, 0).innerHTML = p6.font_shown ? Hide Font : Show Font;\\\\n;\\\\n\\\\nwindow.copyRgb = () => \\\\n  let e = .get(#hidden-copy-color);\\\\n  e.select();\\\\n  document.execCommand(copy);\\\\n  alert(Copied: e.value!);\\\\n;\\\\n\\\\nwindow.copyHex = () => \\\\n  let e = .get(#hidden-copy-hex);\\\\n  e.select();\\\\n  document.execCommand(copy);\\\\n  alert(Copied: e.value!);\\\\n;\\\\n\\\\nfunction fixHtml() \\\\n  let demoSlider = (options) => \\\\n    return .getElement(\\\\n      contains: options.color,\\\\n      class: demo-label\\\\n    ) + .getElement(\\\\n      tag: input,\\\\n      type: range,\\\\n      min: options.min ? options.min : 0,\\\\n      max: options.max ? options.max : 255,\\\\n      value: p6.internalColor[options.color.toLowerCase()],\\\\n      class: demo-range demo-range_options.color.toLowerCase().charAt(0)\\\\n    );\\\\n  ;\\\\n\\\\n  .add(.get(.demo-addons), .getElement(\\\\n    tag: input,\\\\n    type: text,\\\\n    id: hidden-copy-color,\\\\n    style: position:fixed;left:-9999px;top:-9999px;\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: text,\\\\n    id: hidden-copy-hex,\\\\n    style: position:fixed;left:-9999px;top:-9999px;\\\\n  ) + .getElement(\\\\n    id: currentColor\\\\n  ) + demoSlider(\\\\n    color: Red\\\\n  ) + demoSlider(\\\\n    color: Green\\\\n  ) + demoSlider(\\\\n    color: Blue\\\\n  ) + demoSlider(\\\\n    color: Alpha,\\\\n    max: 100\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: text,\\\\n    placeholder: Font Color,\\\\n    id: fontColor\\\\n  ) + .getElement(\\\\n    tag: input,\\\\n    type: text,\\\\n    placeholder: Background Color,\\\\n    id: backgroundColor\\\\n  ) + .getElement(\\\\n    class: button-demo-extra,\\\\n    onclick: javascript:toggleFont();,\\\\n    contains: p6.font_shown ? Hide Font : Show Font\\\\n  ) + .getElement(\\\\n    class: button-demo-extra,\\\\n    onclick: javascript:copyRgb();,\\\\n    contains: .icon(\\\\n      icon: copy\\\\n    ) +  RGB\\\\n  ) + .getElement(\\\\n    class: button-demo-extra,\\\\n    onclick: javascript:copyHex();,\\\\n    contains: .icon(\\\\n      icon: copy\\\\n    ) +  Hex\\\\n  ));\\\\n';\\n      if (_project.length <= 0) return false;\\n      return {\\n        src: _project,\\n        name: _p,\\n        date: C.projects.filter(function (project) {\\n          return project.name.match(_p);\\n        })[0].date\\n      };\\n    }\\n\\n    function verifyOrientation() {\\n      $$.deviceOrientation = window.matchMedia('(orientation: portrait)').matches ? 'portrait' : 'landscape';\\n    }\\n\\n    function isStandalone() {\\n      return window.matchMedia('(display-mode: standalone)').matches || 'standalone' in navigator;\\n    }\\n\\n    function isFullscreen() {\\n      if ($$.deviceOrientation === 'portrait') {\\n        return $$.deviceHeight == window.innerHeight && $$.deviceWidth == window.innerWidth;\\n      } else if ($$.deviceOrientation === 'landscape') {\\n        return $$.deviceHeight == window.innerWidth && $$.deviceWidth == window.innerHeight;\\n      }\\n    }\\n  }\\n};//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fcHVibGljL2FwcC1maWxsLmpzPzQwNWIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyBBdXRob3I6IEthZGVuIEdyaWZmaXRoXG4vLyBEZXNjciA6IFdpbmRvdyBGdW5jdGlvbnNcblxudmFyICQgPSByZXF1aXJlKCdrYnJld19oeXBlcnR4dCcpKCksXG4gICAgVXRpbCA9IHJlcXVpcmUoJy4vVXRpbCcpO1xuXG5yZXF1aXJlKCdodHRwczovL3d3dy5wYXlwYWxvYmplY3RzLmNvbS9hcGkvY2hlY2tvdXQuanMnKTtcblxuaW1wb3J0KCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIm5hdmlnYXRvci5yZXNwb25zZVwiICovJy4uL19zZXJ2ZXIvcHdhL25hdmlnYXRvci5yZXNwb25zZScpO1xuaW1wb3J0KCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInJhbmRvbUNvbG9yXCIgKi8nLi8kYXNzZXRzL2xpYi9yYW5kb21Db2xvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHtcbiAgICB3aW5kb3cuX19kcmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmVyaWZ5T3JpZW50YXRpb24oKTtcbiAgICAgICQkLmZ1bGxzY3JlZW4gPSBpc0Z1bGxzY3JlZW4oKTtcbiAgICAgIC8vIE1ha2UgbWFpbiB0aGUgY29ycmVjdCBzaXplXG4gICAgICBpZiAoJCQuZnVsbHNjcmVlbiB8fCAhaXNNb2JpbGUoKSkge1xuICAgICAgICAkLmdldCgnLm1haW4nKS5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSA0MCArICdweCc7XG4gICAgICAgICQuZ2V0KCcua2FkZW4tbG9nbycpLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDQwICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQuZ2V0KCcubWFpbicpLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICdweCc7XG4gICAgICAgICQuZ2V0KCcua2FkZW4tbG9nbycpLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICdweCc7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIGlzIHRoZSBzdGF0dXNiYXIgZml4IHVzaW5nIDMwIGZwcyB1cGRhdGVcbiAgICAgIGlmIChpc1N0YW5kYWxvbmUoKSAmJiAkJC5mdWxsc2NyZWVuKSB7XG4gICAgICAgIGlmICgkJC5kZXZpY2VPcmllbnRhdGlvbiA9PT0gJ3BvcnRyYWl0Jykge1xuICAgICAgICAgICQuZ2V0KCcubWFpbicpLnN0eWxlLmhlaWdodCA9ICQkLmRldmljZUhlaWdodCAtIDgwICsgJ3B4JztcbiAgICAgICAgICAkLmdldCgnLmthZGVuLWxvZ28nKS5zdHlsZS5oZWlnaHQgPSAkLmdldCgnLm1haW4nKS5zdHlsZS5oZWlnaHQ7XG4gICAgICAgICAgJC5nZXQoJy5oZWFkLXNwYWNlcicpLnN0eWxlLmhlaWdodCA9ICc4MHB4JztcbiAgICAgICAgICAkLmdldCgnLm5hdicpLnN0eWxlLnRvcCA9ICctMTIwcHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQuZ2V0KCcubWFpbicpLnN0eWxlLmhlaWdodCA9ICQkLmRldmljZVdpZHRoIC0gNDAgKyAncHgnO1xuICAgICAgICAgICQuZ2V0KCcua2FkZW4tbG9nbycpLnN0eWxlLmhlaWdodCA9ICQuZ2V0KCcubWFpbicpLnN0eWxlLmhlaWdodDtcbiAgICAgICAgICAkLmdldCgnLmhlYWQtc3BhY2VyJykuc3R5bGUuaGVpZ2h0ID0gJzQwcHgnO1xuICAgICAgICAgICQuZ2V0KCcubmF2Jykuc3R5bGUudG9wID0gJy0xNjBweCc7XG4gICAgICAgIH1cbiAgICAgICAgJC5nZXQoJyNwb3BvdmVyJykuc3R5bGUudG9wID0gJzE0JSc7XG4gICAgICB9XG5cbiAgICAgIGZhZGVCYWNrZ3JvdW5kKHdpbmRvdy5zY3JvbGxZKTtcblxuICAgICAgaWYgKCQkLmFwcF9kZWJ1Zykge1xuICAgICAgICAkLmNsZWFyKCQuZ2V0KCcuZm9vdGVyLWxpbmstYXJlYScpKTtcbiAgICAgICAgJC5hZGQoJC5nZXQoJy5mb290ZXItbGluay1hcmVhJyksICc8ZGl2PmZwczogJyArIHdpbmRvdy5fX2ludGVybmFsQ2xvY2suY3VycmVudEZQUyArICc8L2Rpdj4nKTtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiAkJCkge1xuICAgICAgICAgICQuYWRkKCQuZ2V0KCcuZm9vdGVyLWxpbmstYXJlYScpLCAnPGRpdj4nICsgcHJvcCArICc6ICcgKyAkJFtwcm9wXSArICc8L2Rpdj4nKTtcbiAgICAgICAgfVxuICAgICAgICAkLmFkZCgkLmdldCgnLmZvb3Rlci1saW5rLWFyZWEnKSwgJzxkaXY+d2luZG93V2lkdGg6ICcgKyB3aW5kb3cuaW5uZXJXaWR0aCArICc8L2Rpdj48ZGl2PndpbmRvd0hlaWdodDogJyArIHdpbmRvdy5pbm5lckhlaWdodCArICc8L2Rpdj4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZWluc3RhbGxwcm9tcHQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCQuaW5zdGFsbFByb21wdCA9IGU7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cudG9nZ2xlTWVudSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgdmFyIHRvcE1pbiA9IGlzU3RhbmRhbG9uZSgpICYmICQkLmZ1bGxzY3JlZW4gPyAnNDBweCcgOiAnMCc7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgJC5nZXQoJy5tZW51Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQuZ2V0KCcubWVudScpLnN0eWxlLnRvcCA9IHRvcE1pbjtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQuZ2V0KCcubWVudUN1ZS1vZmYnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICB9LCA3NSk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkLmdldCgnI3dyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0QmFja2dyb3VuZCgpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkLmdldCgnLm1lbnUnKS5zdHlsZS50b3AgPSAnMTAwJSc7XG4gICAgICAgIH0sIDE4NSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQuZ2V0KCcubWVudUN1ZS1vZmYnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICQuZ2V0KCcubWVudScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQuZ2V0KCcubWVudScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0sIDMyNSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5oaWRlUG9wb3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZ2V0KCcjd3JhcHBlcicpLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICQuZ2V0KCcucHJvamVjdC1zY3JvbGxlci1jb250YWluZXInKS5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcbiAgICAgICQuZ2V0KCcjcG9wb3ZlcicpLnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgICAgJC5nZXQoJyNwb3BvdmVyJykuZGlzcGxheSA9ICdub25lJztcbiAgICAgICQuZ2V0KCcjcG9wb3ZlcicpLmlubmVySFRNTCA9ICcnO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYmVnID0gZnVuY3Rpb24gKCkge1xuICAgICAgdG9nZ2xlTWVudShmYWxzZSk7XG4gICAgICBkaXNwbGF5UG9wb3ZlcigkLmdldEVsZW1lbnQoe1xuICAgICAgICBjbGFzczogJ2Ftb3VudCcsXG4gICAgICAgIGNvbnRhaW5zOiAkLmdldEVsZW1lbnQoe1xuICAgICAgICAgIGNsYXNzOiAnYW1vdW50LW1haW4nLFxuICAgICAgICAgIGNvbnRhaW5zOiAkLmdldEVsZW1lbnQoe1xuICAgICAgICAgICAgY2xhc3M6ICdhbW91bnQtdXAnLFxuICAgICAgICAgICAgb25jbGljazogXCJqYXZhc2NyaXB0OmFtb3VudFVwKCk7XCIsXG4gICAgICAgICAgICBjb250YWluczogJC5pY29uKHtcbiAgICAgICAgICAgICAgaWNvbjogJ2Fycm93LXVwJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSArICQuaWNvbih7XG4gICAgICAgICAgICBpY29uOiAnZG9sbGFyLXNpZ24nLFxuICAgICAgICAgICAgc3R5bGU6ICdmb250LXNpemU6MzJweDsnXG4gICAgICAgICAgfSkgKyAkLmdldEVsZW1lbnQoe1xuICAgICAgICAgICAgY2xhc3M6ICdhbW91bnQtdGV4dCcsXG4gICAgICAgICAgICBjb250YWluczogJzUuMDAnXG4gICAgICAgICAgfSkgKyAkLmdldEVsZW1lbnQoe1xuICAgICAgICAgICAgY2xhc3M6ICdhbW91bnQtZG93bicsXG4gICAgICAgICAgICBvbmNsaWNrOiBcImphdmFzY3JpcHQ6YW1vdW50RG93bigpO1wiLFxuICAgICAgICAgICAgY29udGFpbnM6ICQuaWNvbih7XG4gICAgICAgICAgICAgIGljb246ICdhcnJvdy1kb3duJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSArICQuZ2V0RWxlbWVudCh7XG4gICAgICAgICAgICBjbGFzczogJ2Ftb3VudC1hcnJheScsXG4gICAgICAgICAgICBjb250YWluczogJC5nZXRFbGVtZW50KHtcbiAgICAgICAgICAgICAgY2xhc3M6ICdhbW91bnQtb3B0aW9uJyxcbiAgICAgICAgICAgICAgb25jbGljazogXCJqYXZhc2NyaXB0OmFtb3VudENob29zZShgNS4wMGApO1wiLFxuICAgICAgICAgICAgICBjb250YWluczogJC5pY29uKHtcbiAgICAgICAgICAgICAgICBpY29uOiAnZG9sbGFyLXNpZ24nXG4gICAgICAgICAgICAgIH0pICsgJzUuMDAnXG4gICAgICAgICAgICB9KSArICQuZ2V0RWxlbWVudCh7XG4gICAgICAgICAgICAgIGNsYXNzOiAnYW1vdW50LW9wdGlvbicsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IFwiamF2YXNjcmlwdDphbW91bnRDaG9vc2UoYDEwLjAwYCk7XCIsXG4gICAgICAgICAgICAgIGNvbnRhaW5zOiAkLmljb24oe1xuICAgICAgICAgICAgICAgIGljb246ICdkb2xsYXItc2lnbidcbiAgICAgICAgICAgICAgfSkgKyAnMTAuMDAnXG4gICAgICAgICAgICB9KSArICQuZ2V0RWxlbWVudCh7XG4gICAgICAgICAgICAgIGNsYXNzOiAnYW1vdW50LW9wdGlvbicsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IFwiamF2YXNjcmlwdDphbW91bnRDaG9vc2UoYDIwLjAwYCk7XCIsXG4gICAgICAgICAgICAgIGNvbnRhaW5zOiAkLmljb24oe1xuICAgICAgICAgICAgICAgIGljb246ICdkb2xsYXItc2lnbidcbiAgICAgICAgICAgICAgfSkgKyAnMjAuMDAnXG4gICAgICAgICAgICB9KSArICQuZ2V0RWxlbWVudCh7XG4gICAgICAgICAgICAgIGNsYXNzOiAnYW1vdW50LW9wdGlvbicsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IFwiamF2YXNjcmlwdDphbW91bnRDaG9vc2UoYDUwLjAwYCk7XCIsXG4gICAgICAgICAgICAgIGNvbnRhaW5zOiAkLmljb24oe1xuICAgICAgICAgICAgICAgIGljb246ICdkb2xsYXItc2lnbidcbiAgICAgICAgICAgICAgfSkgKyAnNTAuMDAnXG4gICAgICAgICAgICB9KSArICQuZ2V0RWxlbWVudCh7XG4gICAgICAgICAgICAgIGNsYXNzOiAnYW1vdW50LW9wdGlvbicsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IFwiamF2YXNjcmlwdDphbW91bnRDaG9vc2UoYDEwMC4wMGApO1wiLFxuICAgICAgICAgICAgICBjb250YWluczogJC5pY29uKHtcbiAgICAgICAgICAgICAgICBpY29uOiAnZG9sbGFyLXNpZ24nXG4gICAgICAgICAgICAgIH0pICsgJzEwMC4wMCdcbiAgICAgICAgICAgIH0pICsgJC5nZXRFbGVtZW50KHtcbiAgICAgICAgICAgICAgY2xhc3M6ICdhbW91bnQtb3B0aW9uJyxcbiAgICAgICAgICAgICAgb25jbGljazogXCJqYXZhc2NyaXB0OmFtb3VudENob29zZShgMTAwMC4wMGApO1wiLFxuICAgICAgICAgICAgICBjb250YWluczogJC5pY29uKHtcbiAgICAgICAgICAgICAgICBpY29uOiAnZG9sbGFyLXNpZ24nXG4gICAgICAgICAgICAgIH0pICsgJzEwMDAuMDAnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KSArICQuZ2V0RWxlbWVudCh7XG4gICAgICAgIGlkOiAncGF5cGFsLWNvbnRhaW5lcidcbiAgICAgIH0pKTtcbiAgICAgIHZhciBhbXQgPSBOdW1iZXIoJC5nZXQoJy5hbW91bnQtdGV4dCcpLmlubmVySFRNTCk7XG4gICAgICBwYXlwYWwuQnV0dG9uLnJlbmRlcih7XG4gICAgICAgIGVudjogJ3Byb2R1Y3Rpb24nLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGxheW91dDogJ3ZlcnRpY2FsJyxcbiAgICAgICAgICBzaXplOiAnbWVkaXVtJyxcbiAgICAgICAgICBzaGFwZTogJ3JlY3QnLFxuICAgICAgICAgIGNvbG9yOiAnc2lsdmVyJ1xuICAgICAgICB9LFxuICAgICAgICBmdW5kaW5nOiB7XG4gICAgICAgICAgYWxsb3dlZDogW3BheXBhbC5GVU5ESU5HLkNBUkQsIHBheXBhbC5GVU5ESU5HLkNSRURJVF1cbiAgICAgICAgfSxcbiAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgc2FuZGJveDogJ0FTcmtLWW1SSDNlRDAyN3dxWURBYmFId1Z3d0tyRlUzX00ya3lMQjJvZUhjZHlMZ1c3X3MzMFlRYU1RQTdEbmlPOVdnaFBzU3JQZWd2WEt1JyxcbiAgICAgICAgICBwcm9kdWN0aW9uOiAnQVJ6dDJMU250ekVHd3ZfZGpWdFdFZUdOdjhMN2dPRWI0ZmgxUXpqZExaeXdJY0RaM0hNVU1MUlBKVzFDV3V5SG81S281X3FKRHVrSlpCVzEnXG4gICAgICAgIH0sXG4gICAgICAgIHBheW1lbnQ6IGZ1bmN0aW9uIHBheW1lbnQoZGF0YSwgYWN0aW9ucykge1xuICAgICAgICAgIHJldHVybiBhY3Rpb25zLnBheW1lbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIHBheW1lbnQ6IHtcbiAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbe1xuICAgICAgICAgICAgICAgIGFtb3VudDoge1xuICAgICAgICAgICAgICAgICAgdG90YWw6IGFtdCxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdDb2ZmZWUgTW9uZXknXG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQXV0aG9yaXplOiBmdW5jdGlvbiBvbkF1dGhvcml6ZShkYXRhLCBhY3Rpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGlvbnMucGF5bWVudC5leGVjdXRlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBoaWRlUG9wb3ZlcigpO1xuICAgICAgICAgICAgZGlzcGxheVBvcG92ZXIoJ1RoYW5rIHlvdSBmb3IgYmVpbmcgYXdlc29tZSEnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgJyNwYXlwYWwtY29udGFpbmVyJyk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hbW91bnREb3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9pbmMgPSAkLmdldCgnLmFtb3VudC10ZXh0JykuaW5uZXJIVE1MLmxlbmd0aCA+IDQgPyAxIDogMC4xO1xuICAgICAgX2luYyA9ICQuZ2V0KCcuYW1vdW50LXRleHQnKS5pbm5lckhUTUwubGVuZ3RoID4gNSAmJiAkLmdldCgnLmFtb3VudC10ZXh0JykuaW5uZXJIVE1MICE9IDEwMCA/IDEwIDogX2luYztcbiAgICAgIF9pbmMgPSAkLmdldCgnLmFtb3VudC10ZXh0JykuaW5uZXJIVE1MLmxlbmd0aCA+IDYgJiYgJC5nZXQoJy5hbW91bnQtdGV4dCcpLmlubmVySFRNTCAhPSAxMDAwID8gMTAwIDogX2luYztcbiAgICAgICQuZ2V0KCcuYW1vdW50LXRleHQnKS5pbm5lckhUTUwgPSBOdW1iZXIoJC5nZXQoJy5hbW91bnQtdGV4dCcpLmlubmVySFRNTCkgPiA0LjIgPyBwYXJzZUZsb2F0KCQuZ2V0KCcuYW1vdW50LXRleHQnKS5pbm5lckhUTUwgLSBfaW5jKS50b0ZpeGVkKDIpIDogJzQuMjAnO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYW1vdW50VXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2luYyA9ICQuZ2V0KCcuYW1vdW50LXRleHQnKS5pbm5lckhUTUwubGVuZ3RoID4gNCA/IDEgOiAwLjE7XG4gICAgICBfaW5jID0gJC5nZXQoJy5hbW91bnQtdGV4dCcpLmlubmVySFRNTC5sZW5ndGggPiA1ID8gMTAgOiBfaW5jO1xuICAgICAgX2luYyA9ICQuZ2V0KCcuYW1vdW50LXRleHQnKS5pbm5lckhUTUwubGVuZ3RoID4gNiA/IDEwMCA6IF9pbmM7XG4gICAgICAkLmdldCgnLmFtb3VudC10ZXh0JykuaW5uZXJIVE1MID0gcGFyc2VGbG9hdChOdW1iZXIoJC5nZXQoJy5hbW91bnQtdGV4dCcpLmlubmVySFRNTCkgKyBfaW5jKS50b0ZpeGVkKDIpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYW1vdW50Q2hvb3NlID0gZnVuY3Rpb24gKF9hbXQpIHtcbiAgICAgICQuZ2V0KCcuYW1vdW50LXRleHQnKS5pbm5lckhUTUwgPSBwYXJzZUZsb2F0KE51bWJlcihfYW10KSkudG9GaXhlZCgyKTtcbiAgICB9O1xuXG4gICAgd2luZG93Lm9wZW5OZXdFbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRpc3BsYXlQb3BvdmVyKCQuZ2V0RWxlbWVudCh7XG4gICAgICAgIGNsYXNzOiAnZmFrZS1hLWhlbGxvJyxcbiAgICAgICAgY29udGFpbnM6ICdIZXksIHdoYXRcXCdzIHVwPydcbiAgICAgIH0pICsgJC5nZXRFbGVtZW50KHtcbiAgICAgICAgdGFnOiAndGV4dGFyZWEnLFxuICAgICAgICByZXF1aXJlZDogJ3RydWUnLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ01lc3NhZ2UnLFxuICAgICAgICBpZDogJ2VtYWlsLW1lc3NhZ2UnLFxuICAgICAgICBjbGFzczogJ3RleHRib3gnXG4gICAgICB9KSArICQuZ2V0RWxlbWVudCh7XG4gICAgICAgIG9uY2xpY2s6IFwiamF2YXNjcmlwdDpzZW5kTWFpbCgpO1wiLFxuICAgICAgICBjbGFzczogJ2VtYWlsLWJ0bicsXG4gICAgICAgIGNvbnRhaW5zOiAnU2VuZCdcbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgd2luZG93LnNlbmRNYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnbWFpbHRvOmthZGVuZ3JpZmZpdGhAZ21haWwuY29tP3N1YmplY3Q9SVxcJ3ZlIHNlZW4geW91ciB3b3JrLi4uIElcXCd2ZSBuZXZlciBiZWVuIG1vcmUgYmxvd24gYXdheSBpbiBteSBsaWZlLiZib2R5PScgKyAkLmdldCgnI2VtYWlsLW1lc3NhZ2UnKS52YWx1ZTtcbiAgICAgIHdpbmRvdy5oaWRlUG9wb3ZlcigpO1xuICAgIH07XG5cbiAgICB3aW5kb3cucnVuID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgIHZhciBfcHJvamVjdCA9IGdyYWJQcm9qZWN0KG9wdGlvbnMucHJvamVjdCk7XG4gICAgICBpZiAoX3Byb2plY3QpIHtcbiAgICAgICAgZGlzcGxheVBvcG92ZXIoJC5nZXRFbGVtZW50KHtcbiAgICAgICAgICB0YWc6ICdjYW52YXMnLFxuICAgICAgICAgIGhlaWdodDogJzMwMHB4JyxcbiAgICAgICAgICB3aWR0aDogJzMwMHB4JyxcbiAgICAgICAgICBpZDogX3Byb2plY3QubmFtZS5yZXBsYWNlKC9cXCAvZywgJ18nKSxcbiAgICAgICAgICBjbGFzczogJ2NhbnZhcydcbiAgICAgICAgfSkgKyAkLmdldEVsZW1lbnQoe1xuICAgICAgICAgIGNsYXNzOiAnZGVtby1kYXRlJyxcbiAgICAgICAgICBjb250YWluczogJ0RhdGUgQ3JlYXRlZDogJyArIF9wcm9qZWN0LmRhdGVcbiAgICAgICAgfSkgKyAkLmdldEVsZW1lbnQoe1xuICAgICAgICAgIGNsYXNzOiAnZGVtby1hZGRvbnMnXG4gICAgICAgIH0pICsgJC5nZXRFbGVtZW50KHtcbiAgICAgICAgICBjbGFzczogJ2RlbW8tY29kZScsXG4gICAgICAgICAgY29udGFpbnM6IF9wcm9qZWN0LnNyY1xuICAgICAgICB9KSk7XG4gICAgICAgIHZhciBfcCA9IEMucHJvamVjdHMuZmlsdGVyKGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIHByb2plY3QubmFtZS5tYXRjaChfcHJvamVjdC5uYW1lKTtcbiAgICAgICAgfSlbMF0ubmFtZTtcbiAgICAgICAgaWYgKC9mcmFjdGFsIHBhdHRlcm4gZ2VuZXJhdGlvbi9naS50ZXN0KF9wKSkgaW1wb3J0KCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInAxXCIgKi8nLi9wMS5rYWRlbicpLnRoZW4oZnVuY3Rpb24gKHAxKSB7XG4gICAgICAgICAgcmV0dXJuIHAxLlByb2plY3QxKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoL2F1dG9tYXRlZCBwb25nL2dpLnRlc3QoX3ApKSBpbXBvcnQoIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicDJcIiAqLycuL3AyLmthZGVuJykudGhlbihmdW5jdGlvbiAocDIpIHtcbiAgICAgICAgICByZXR1cm4gcDIuUHJvamVjdDIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgvc2ltcGxlIG1hdGggZ2FtZS9naS50ZXN0KF9wKSkgaW1wb3J0KCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInAzXCIgKi8nLi9wMy5rYWRlbicpLnRoZW4oZnVuY3Rpb24gKHAzKSB7XG4gICAgICAgICAgcmV0dXJuIHAzLlByb2plY3QzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoL2d1ZXNzIHRoZSBudW1iZXIvZ2kudGVzdChfcCkpIGltcG9ydCggLyogd2VicGFja0NodW5rTmFtZTogXCJwNFwiICovJy4vcDQua2FkZW4nKS50aGVuKGZ1bmN0aW9uIChwNCkge1xuICAgICAgICAgIHJldHVybiBwNC5Qcm9qZWN0NCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKC9zbmFrZS9naS50ZXN0KF9wKSkgaW1wb3J0KCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInA1XCIgKi8nLi9wNS5rYWRlbicpLnRoZW4oZnVuY3Rpb24gKHA1KSB7XG4gICAgICAgICAgcmV0dXJuIHA1LlByb2plY3Q1KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoL2NvbG9yIHZpZXdlci9naS50ZXN0KF9wKSkgaW1wb3J0KCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInA2XCIgKi8nLi9wNi5rYWRlbicpLnRoZW4oZnVuY3Rpb24gKHA2KSB7XG4gICAgICAgICAgcmV0dXJuIHA2LlByb2plY3Q2KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuZG93bmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkJC5pbnN0YWxsUHJvbXB0LnByb21wdCgpO1xuICAgIH07XG5cbiAgICAvLyBTaG93cyBvdmVybGF5IHNjcmVlblxuICAgIGZ1bmN0aW9uIGRpc3BsYXlQb3BvdmVyKGNvbnRhaW5zKSB7XG4gICAgICAkLmdldCgnI3BvcG92ZXInKS5pbm5lckhUTUwgPSAkLmdldEVsZW1lbnQoe1xuICAgICAgICBjbGFzczogJ3BvcG92ZXJDdWUtb2ZmJyxcbiAgICAgICAgb25jbGljazogXCJqYXZhc2NyaXB0OmhpZGVQb3BvdmVyKCk7XCIsXG4gICAgICAgIGNvbnRhaW5zOiAkLmljb24oe1xuICAgICAgICAgIGljb246ICd0aW1lcydcbiAgICAgICAgfSlcbiAgICAgIH0pICsgJC5nZXRFbGVtZW50KHtcbiAgICAgICAgY2xhc3M6ICdwb3BvdmVyLWNvbnRlbnQnLFxuICAgICAgICBjb250YWluczogY29udGFpbnNcbiAgICAgIH0pO1xuICAgICAgJC5nZXQoJyNwb3BvdmVyJykuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ3JhYlByb2plY3QoX3ApIHtcbiAgICAgIHZhciBfcHJvamVjdCA9ICcnO1xuICAgICAgaWYgKC9mcmFjdGFsIHBhdHRlcm4gZ2VuZXJhdGlvbi9naS50ZXN0KF9wKSkgX3Byb2plY3QgPSAnLy8gQXV0aG9yOiBLYWRlbiBHcmlmZml0aFxcbi8vIERlc2NyIDogU2hhcGUgUmVjdXJzaW9uXFxuXFxuY29uc3QgID0gcmVxdWlyZShrYnJld19oeXBlcnR4dCkoKSxcXG4gIHJjID0gcmVxdWlyZSguL2Fzc2V0cy9saWIvcmFuZG9tQ29sb3IpO1xcblxcbm1vZHVsZS5leHBvcnRzID0gXFxuICBQcm9qZWN0MTogKCkgPT4gXFxuICAgIHVzZSBzdHJpY3Q7XFxuXFxuICAgIGNvbnN0IGNhbnZhc05hbWUgPSAjRnJhY3RhbF9QYXR0ZXJuX0dlbmVyYXRpb247XFxuXFxuICAgIGlmKCEuZ2V0KGNhbnZhc05hbWUpKSByZXR1cm47XFxuXFxuICAgIGZpeEh0bWwoKTtcXG5cXG4gICAgbGV0IGNhbnZhcyA9IC5nZXQoY2FudmFzTmFtZSksXFxuICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoMmQpLFxcbiAgICAgIGZyYW1lcmF0ZSA9IE1hdGguZmxvb3IoMTAwMCAvIDYwKSxcXG4gICAgICBiZ0NvbG9yLFxcbiAgICAgIHNlY29uZHMgPSAwLFxcbiAgICAgIHNlY29uZHNfaGFsZiA9IDAsXFxuICAgICAgcGF1c2VkX3N0YXRlID0gZmFsc2UsXFxuICAgICAgc3BlZWQgPSAyMDAsXFxuICAgICAgY29sb3Jfb3B0aW9ucyA9IG51bGw7XFxuXFxuICAgIGxldCBwZXJjZW50aWxlX3JpZ2h0LFxcbiAgICAgIHBlcmNlbnRpbGVfbGVmdCxcXG4gICAgICBwZXJjZW50aWxlX2Rvd24sXFxuICAgICAgcGVyY2VudGlsZV91cCxcXG4gICAgICBwZXJjZW50aWxlX3JhbmQxO1xcblxcbiAgICBsZXQgZGlhbWV0ZXJfZmFjdG9yLFxcbiAgICAgIGluaXRpYWxfZF92YWx1ZSxcXG4gICAgICBtaW5pbXVtX2RpYW1ldGVyO1xcblxcbiAgICBsZXQgQ2lyY2xlLFxcbiAgICAgIFNxdWFyZSxcXG4gICAgICBIb3VyZ2xhc3MsXFxuICAgICAgQm93dGllLFxcbiAgICAgIENyb3NzLFxcbiAgICAgIERpYWdvbmFsXzEsXFxuICAgICAgRGlhZ29uYWxfMjtcXG5cXG4gICAgLmdldCguYnV0dG9uX3BsYXkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICNDMEQ4OTA7XFxuICAgIC5nZXQoLmJ1dHRvbl9wbGF5KS5zdHlsZS5jb2xvciA9ICMzMzM7XFxuICAgIHNldEludGVydmFsKHVwZGF0ZSwgZnJhbWVyYXRlKTtcXG5cXG4gICAgZnVuY3Rpb24gdXBkYXRlKCkgXFxuICAgICAgaWYoIS5nZXQoY2FudmFzTmFtZSkpIHJldHVybjtcXG4gICAgICBpZighcGF1c2VkX3N0YXRlKSBcXG4gICAgICAgIGJnQ29sb3IgPSAuZ2V0KCNCZ0NvbG9yKS52YWx1ZS5sZW5ndGggPiAwID8gLmdldCgjQmdDb2xvcikudmFsdWUudG9Mb3dlckNhc2UoKSA6IGJsYWNrO1xcbiAgICAgICAgaW5pdGlhbF9kX3ZhbHVlID0gLmdldCgjSW5pdGlhbEQpLnZhbHVlO1xcblxcbiAgICAgICAgY29sb3Jfb3B0aW9ucyA9IFxcbiAgICAgICAgICBodWU6IC5nZXQoI0h1ZSkudmFsdWUubGVuZ3RoID4gMCA/IC5nZXQoI0h1ZSkudmFsdWUudG9Mb3dlckNhc2UoKSA6ICxcXG4gICAgICAgICAgbHVtaW5vc2l0eTogLmdldCgjTHVtaW5vc2l0eSkudmFsdWUubGVuZ3RoID4gMCA/IC5nZXQoI0x1bWlub3NpdHkpLnZhbHVlLnRvTG93ZXJDYXNlKCkgOiAsXFxuICAgICAgICAgIGFscGhhOiAxXFxuICAgICAgICA7XFxuXFxuICAgICAgICBkaWFtZXRlcl9mYWN0b3IgPSBOdW1iZXIoLmdldCgjRGlhbWV0ZXJmYWN0b3IpLnZhbHVlKSAqIDAuMDE7XFxuICAgICAgICBtaW5pbXVtX2RpYW1ldGVyID0gLmdldCgjTWluRGlhbWV0ZXIpLnZhbHVlO1xcblxcbiAgICAgICAgcGVyY2VudGlsZV9yaWdodCA9IC5nZXQoI1JpZ2h0KS52YWx1ZTtcXG4gICAgICAgIHBlcmNlbnRpbGVfbGVmdCA9IC5nZXQoI0xlZnQpLnZhbHVlO1xcbiAgICAgICAgcGVyY2VudGlsZV9kb3duID0gLmdldCgjRG93bikudmFsdWU7XFxuICAgICAgICBwZXJjZW50aWxlX3VwID0gLmdldCgjVXApLnZhbHVlO1xcbiAgICAgICAgcGVyY2VudGlsZV9yYW5kMSA9IC5nZXQoI1JhbmRvbSkudmFsdWU7XFxuXFxuICAgICAgICBDaXJjbGUgPSAuZ2V0KCNDaXJjbGUpLnZhbHVlO1xcbiAgICAgICAgU3F1YXJlID0gLmdldCgjU3F1YXJlKS52YWx1ZTtcXG4gICAgICAgIEhvdXJnbGFzcyA9IC5nZXQoI0hvdXJnbGFzcykudmFsdWU7XFxuICAgICAgICBCb3d0aWUgPSAuZ2V0KCNCb3d0aWUpLnZhbHVlO1xcbiAgICAgICAgQ3Jvc3MgPSAuZ2V0KCNDcm9zcykudmFsdWU7XFxuICAgICAgICBEaWFnb25hbF8xID0gLmdldCgjRGlhZ29uYWxfMSkudmFsdWU7XFxuICAgICAgICBEaWFnb25hbF8yID0gLmdldCgjRGlhZ29uYWxfMikudmFsdWU7XFxuXFxuICAgICAgICBkcmF3U2hhcGUoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIsIGluaXRpYWxfZF92YWx1ZSk7XFxuICAgICAgXFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiBkcmF3U2hhcGUoeCwgeSwgZCkgXFxuICAgICAgaWYoZCA9PT0gaW5pdGlhbF9kX3ZhbHVlKSBcXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBiZ0NvbG9yO1xcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XFxuICAgICAgXFxuXFxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHJjLnJhbmRvbUNvbG9yKGNvbG9yX29wdGlvbnMpO1xcblxcbiAgICAgIGlmKGdldFJhbmRvbUludCgwLCAxMDApID49ICgxMDAgLSBTcXVhcmUpKSBcXG4gICAgICAgIGN0eC5yZWN0KHggLSAoZCAvIDIpLCB5IC0gKGQgLyAyKSwgZCwgZCk7XFxuICAgICAgIGVsc2UgaWYoZ2V0UmFuZG9tSW50KDAsIDEwMCkgPj0gKDEwMCAtIEhvdXJnbGFzcykpIFxcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xcbiAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCAtIChkIC8gMiksIHkgKyAoZCAvIDIpKTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCArIChkIC8gMiksIHkgKyAoZCAvIDIpKTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCAtIChkIC8gMiksIHkgLSAoZCAvIDIpKTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCArIChkIC8gMiksIHkgLSAoZCAvIDIpKTtcXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcXG4gICAgICAgZWxzZSBpZihnZXRSYW5kb21JbnQoMCwgMTAwKSA+PSAoMTAwIC0gQ3Jvc3MpKSBcXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcXG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XFxuICAgICAgICBjdHgubGluZVRvKHggLSAoZCAvIDIpLCB5ICsgKGQgLyAyKSk7XFxuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgKGQgLyAyKSwgeSArIChkIC8gMikpO1xcbiAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCAtIChkIC8gMiksIHkgLSAoZCAvIDIpKTtcXG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XFxuICAgICAgICBjdHgubGluZVRvKHggKyAoZCAvIDIpLCB5IC0gKGQgLyAyKSk7XFxuICAgICAgIGVsc2UgaWYoZ2V0UmFuZG9tSW50KDAsIDEwMCkgPj0gKDEwMCAtIERpYWdvbmFsXzEpKSBcXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcXG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XFxuICAgICAgICBjdHgubGluZVRvKHggLSAoZCAvIDIpLCB5ICsgKGQgLyAyKSk7XFxuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgKGQgLyAyKSwgeSAtIChkIC8gMikpO1xcbiAgICAgICBlbHNlIGlmKGdldFJhbmRvbUludCgwLCAxMDApID49ICgxMDAgLSBEaWFnb25hbF8yKSkgXFxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XFxuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xcbiAgICAgICAgY3R4LmxpbmVUbyh4IC0gKGQgLyAyKSwgeSAtIChkIC8gMikpO1xcbiAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCArIChkIC8gMiksIHkgKyAoZCAvIDIpKTtcXG4gICAgICAgZWxzZSBpZihnZXRSYW5kb21JbnQoMCwgMTAwKSA+PSAoMTAwIC0gQm93dGllKSkgXFxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XFxuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xcbiAgICAgICAgY3R4LmxpbmVUbyh4IC0gKGQgLyAyKSwgeSAtIChkIC8gMikpO1xcbiAgICAgICAgY3R4LmxpbmVUbyh4IC0gKGQgLyAyKSwgeSArIChkIC8gMikpO1xcbiAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCArIChkIC8gMiksIHkgLSAoZCAvIDIpKTtcXG4gICAgICAgIGN0eC5saW5lVG8oeCArIChkIC8gMiksIHkgKyAoZCAvIDIpKTtcXG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XFxuICAgICAgICBjdHgubGluZVRvKHggKyAoZCAvIDIpLCB5ICsgKGQgLyAyKSk7XFxuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xcbiAgICAgICAgY3R4LmxpbmVUbyh4IC0gKGQgLyAyKSwgeSArIChkIC8gMikpO1xcbiAgICAgICBlbHNlIGlmKGdldFJhbmRvbUludCgwLCAxMDApID49ICgxMDAgLSBDaXJjbGUpKSBcXG4gICAgICAgIGN0eC5lbGxpcHNlKHgsIHksIChkIC8gMiksIChkIC8gMiksIDIgKiBNYXRoLlBJLCAwLCAyICogTWF0aC5QSSk7XFxuICAgICAgXFxuXFxuICAgICAgY3R4LnN0cm9rZSgpO1xcblxcbiAgICAgIGlmKGQgPiBtaW5pbXVtX2RpYW1ldGVyKSBcXG4gICAgICAgIGlmKGdldFJhbmRvbUludCgwLCAxMDApID49ICgxMDAgLSBwZXJjZW50aWxlX3JpZ2h0KSkgXFxuICAgICAgICAgIGRyYXdTaGFwZSh4ICsgKGQgKiBkaWFtZXRlcl9mYWN0b3IpLCB5LCBkICogZGlhbWV0ZXJfZmFjdG9yKTtcXG4gICAgICAgICAvLyBSaWdodFxcbiAgICAgICAgaWYoZ2V0UmFuZG9tSW50KDAsIDEwMCkgPj0gKDEwMCAtIHBlcmNlbnRpbGVfbGVmdCkpIFxcbiAgICAgICAgICBkcmF3U2hhcGUoeCAtIChkICogZGlhbWV0ZXJfZmFjdG9yKSwgeSwgZCAqIGRpYW1ldGVyX2ZhY3Rvcik7XFxuICAgICAgICAgLy8gTGVmdFxcbiAgICAgICAgaWYoZ2V0UmFuZG9tSW50KDAsIDEwMCkgPj0gKDEwMCAtIHBlcmNlbnRpbGVfdXApKSBcXG4gICAgICAgICAgZHJhd1NoYXBlKHgsIHkgLSAoZCAqIGRpYW1ldGVyX2ZhY3RvciksIGQgKiBkaWFtZXRlcl9mYWN0b3IpO1xcbiAgICAgICAgIC8vIFVwXFxuICAgICAgICBpZihnZXRSYW5kb21JbnQoMCwgMTAwKSA+PSAoMTAwIC0gcGVyY2VudGlsZV9kb3duKSkgXFxuICAgICAgICAgIGRyYXdTaGFwZSh4LCB5ICsgKGQgKiBkaWFtZXRlcl9mYWN0b3IpLCBkICogZGlhbWV0ZXJfZmFjdG9yKTtcXG4gICAgICAgICAvLyBEb3duXFxuICAgICAgICBpZihnZXRSYW5kb21JbnQoMCwgMTAwKSA+PSAoMTAwIC0gcGVyY2VudGlsZV9yYW5kMSkpIFxcbiAgICAgICAgICBkcmF3U2hhcGUoZ2V0UmFuZG9tSW50KDAsIGNhbnZhcy53aWR0aCksIGdldFJhbmRvbUludCgwLCBjYW52YXMuaGVpZ2h0KSwgZCAqIGRpYW1ldGVyX2ZhY3Rvcik7XFxuICAgICAgICAgLy8gUmFuZG9tIDFcXG4gICAgICBcXG4gICAgXFxuXFxuICAgIHdpbmRvdy5QYXVzZSA9ICgpID0+IFxcbiAgICAgIC5nZXQoLmJ1dHRvbl9wbGF5KS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0cmFuc3BhcmVudDtcXG4gICAgICAuZ2V0KC5idXR0b25fcGF1c2UpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICNFRDQzMzc7XFxuICAgICAgLmdldCguYnV0dG9uX3BhdXNlKS5zdHlsZS5jb2xvciA9ICMzMzM7XFxuICAgICAgLmdldCguYnV0dG9uX3BsYXkpLnN0eWxlLmNvbG9yID0gI0MwRDg5MDtcXG4gICAgICBwYXVzZWRfc3RhdGUgPSB0cnVlO1xcbiAgICA7XFxuXFxuICAgIHdpbmRvdy5QbGF5ID0gKCkgPT4gXFxuICAgICAgLmdldCguYnV0dG9uX3BsYXkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICNDMEQ4OTA7XFxuICAgICAgLmdldCguYnV0dG9uX3BsYXkpLnN0eWxlLmNvbG9yID0gIzMzMztcXG4gICAgICAuZ2V0KC5idXR0b25fcGF1c2UpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRyYW5zcGFyZW50O1xcbiAgICAgIC5nZXQoLmJ1dHRvbl9wYXVzZSkuc3R5bGUuY29sb3IgPSAjRUQ0MzM3O1xcbiAgICAgIHBhdXNlZF9zdGF0ZSA9IGZhbHNlO1xcbiAgICA7XFxuXFxuICAgIHdpbmRvdy5QbHVzT25lRnJhbWUgPSAoKSA9PiBcXG4gICAgICBwYXVzZWRfc3RhdGUgPSB0cnVlO1xcbiAgICAgIHNldFRpbWVvdXQoUGxheSwgMTApO1xcbiAgICAgIHNldFRpbWVvdXQoUGF1c2UsIGZyYW1lcmF0ZSAqIDEuNSk7XFxuICAgIDtcXG5cXG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSBcXG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKE1hdGguZmxvb3IobWF4KSAtIE1hdGguY2VpbChtaW4pKSkgKyBNYXRoLmNlaWwobWluKTtcXG4gICAgXFxuICBcXG47XFxuXFxuZnVuY3Rpb24gZml4SHRtbCgpIFxcbiAgLmFkZCguZ2V0KC5kZW1vLWFkZG9ucyksIC5nZXRFbGVtZW50KFxcbiAgICBjbGFzczogYnV0dG9uX3BsYXksXFxuICAgIG9uY2xpY2s6IGphdmFzY3JpcHQ6UGxheSgpOyxcXG4gICAgY29udGFpbnM6IFBsYXlcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgY2xhc3M6IGJ1dHRvbl9wYXVzZSxcXG4gICAgb25jbGljazogamF2YXNjcmlwdDpQYXVzZSgpOyxcXG4gICAgY29udGFpbnM6IFBhdXNlXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNsYXNzOiBidXR0b24tZGVtby1leHRyYSxcXG4gICAgb25jbGljazogamF2YXNjcmlwdDpQbHVzT25lRnJhbWUoKTssXFxuICAgIGNvbnRhaW5zOiBSZWZyYW1lXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIHRhZzogaW5wdXQsXFxuICAgIHR5cGU6IHRleHQsXFxuICAgIHBsYWNlaG9sZGVyOiBCYWNrZ3JvdW5kIENvbG9yICggY29sb3IgfCBoZXggKSxcXG4gICAgaWQ6IEJnQ29sb3JcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogdGV4dCxcXG4gICAgcGxhY2Vob2xkZXI6IEh1ZSAoIGNvbG9yIHwgaGV4IHwgbW9ub2Nocm9tZSApLFxcbiAgICBpZDogSHVlXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIHRhZzogaW5wdXQsXFxuICAgIHR5cGU6IHRleHQsXFxuICAgIHBsYWNlaG9sZGVyOiBMdW1pbm9jaXR5ICggYnJpZ2h0IHwgbGlnaHQgfCBkYXJrICksXFxuICAgIGlkOiBMdW1pbm9zaXR5XFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNvbnRhaW5zOiBab29tLFxcbiAgICBjbGFzczogZGVtby1sYWJlbFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiByYW5nZSxcXG4gICAgbWluOiAxLFxcbiAgICBtYXg6IDUwLFxcbiAgICB2YWx1ZTogNTAsXFxuICAgIGNsYXNzOiBkZW1vLXJhbmdlIGRlbW8tcmFuZ2VfYixcXG4gICAgaWQ6IERpYW1ldGVyZmFjdG9yXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNvbnRhaW5zOiBSZWR1Y3Rpb24gRmFjdG9yLFxcbiAgICBjbGFzczogZGVtby1sYWJlbFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiByYW5nZSxcXG4gICAgbWluOiAxNTAsXFxuICAgIG1heDogOTUwLFxcbiAgICB2YWx1ZTogMzAwLFxcbiAgICBjbGFzczogZGVtby1yYW5nZSBkZW1vLXJhbmdlX2IsXFxuICAgIGlkOiBJbml0aWFsRFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICBjb250YWluczogTWltaW51bSBEaWFtZXRlcixcXG4gICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogcmFuZ2UsXFxuICAgIG1pbjogMTAsXFxuICAgIG1heDogMTUsXFxuICAgIHZhbHVlOiAxMCxcXG4gICAgY2xhc3M6IGRlbW8tcmFuZ2UgZGVtby1yYW5nZV9iLFxcbiAgICBpZDogTWluRGlhbWV0ZXJcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgY29udGFpbnM6IFJpZ2h0LFxcbiAgICBjbGFzczogZGVtby1sYWJlbFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiByYW5nZSxcXG4gICAgbWluOiAwLFxcbiAgICBtYXg6IDEwMCxcXG4gICAgY2xhc3M6IGRlbW8tcmFuZ2UgZGVtby1yYW5nZV9nLFxcbiAgICBpZDogUmlnaHQsXFxuICAgIHZhbHVlOiAxMDBcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgY29udGFpbnM6IExlZnQsXFxuICAgIGNsYXNzOiBkZW1vLWxhYmVsXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIHRhZzogaW5wdXQsXFxuICAgIHR5cGU6IHJhbmdlLFxcbiAgICBtaW46IDAsXFxuICAgIG1heDogMTAwLFxcbiAgICBjbGFzczogZGVtby1yYW5nZSBkZW1vLXJhbmdlX2csXFxuICAgIGlkOiBMZWZ0LFxcbiAgICB2YWx1ZTogMTAwXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNvbnRhaW5zOiBVcCxcXG4gICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogcmFuZ2UsXFxuICAgIG1pbjogMCxcXG4gICAgbWF4OiAxMDAsXFxuICAgIGNsYXNzOiBkZW1vLXJhbmdlIGRlbW8tcmFuZ2VfZyxcXG4gICAgaWQ6IFVwXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNvbnRhaW5zOiBEb3duLFxcbiAgICBjbGFzczogZGVtby1sYWJlbFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiByYW5nZSxcXG4gICAgbWluOiAwLFxcbiAgICBtYXg6IDEwMCxcXG4gICAgY2xhc3M6IGRlbW8tcmFuZ2UgZGVtby1yYW5nZV9nLFxcbiAgICBpZDogRG93blxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICBjb250YWluczogUmFuZG9tIEFydGlmYWN0cyxcXG4gICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogcmFuZ2UsXFxuICAgIG1pbjogMCxcXG4gICAgbWF4OiAxMDAsXFxuICAgIGNsYXNzOiBkZW1vLXJhbmdlIGRlbW8tcmFuZ2VfbyxcXG4gICAgaWQ6IFJhbmRvbSxcXG4gICAgdmFsdWU6IDBcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgY29udGFpbnM6IENpcmNsZSxcXG4gICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogcmFuZ2UsXFxuICAgIG1pbjogMCxcXG4gICAgbWF4OiAxMDAsXFxuICAgIGNsYXNzOiBkZW1vLXJhbmdlLFxcbiAgICBpZDogQ2lyY2xlLFxcbiAgICB2YWx1ZTogMTAwXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNvbnRhaW5zOiBTcXVhcmUsXFxuICAgIGNsYXNzOiBkZW1vLWxhYmVsXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIHRhZzogaW5wdXQsXFxuICAgIHR5cGU6IHJhbmdlLFxcbiAgICBtaW46IDAsXFxuICAgIG1heDogMTAwLFxcbiAgICBjbGFzczogZGVtby1yYW5nZSxcXG4gICAgaWQ6IFNxdWFyZSxcXG4gICAgdmFsdWU6IDBcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgY29udGFpbnM6IEhvdXJnbGFzcyxcXG4gICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogcmFuZ2UsXFxuICAgIG1pbjogMCxcXG4gICAgbWF4OiAxMDAsXFxuICAgIGNsYXNzOiBkZW1vLXJhbmdlLFxcbiAgICBpZDogSG91cmdsYXNzLFxcbiAgICB2YWx1ZTogMFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICBjb250YWluczogQm93dGllLFxcbiAgICBjbGFzczogZGVtby1sYWJlbFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiByYW5nZSxcXG4gICAgbWluOiAwLFxcbiAgICBtYXg6IDEwMCxcXG4gICAgY2xhc3M6IGRlbW8tcmFuZ2UsXFxuICAgIGlkOiBCb3d0aWUsXFxuICAgIHZhbHVlOiAwXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNvbnRhaW5zOiBDcm9zcyxcXG4gICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogcmFuZ2UsXFxuICAgIG1pbjogMCxcXG4gICAgbWF4OiAxMDAsXFxuICAgIGNsYXNzOiBkZW1vLXJhbmdlLFxcbiAgICBpZDogQ3Jvc3MsXFxuICAgIHZhbHVlOiAwXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNvbnRhaW5zOiBEaWFnb25hbCAxLFxcbiAgICBjbGFzczogZGVtby1sYWJlbFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiByYW5nZSxcXG4gICAgbWluOiAwLFxcbiAgICBtYXg6IDEwMCxcXG4gICAgY2xhc3M6IGRlbW8tcmFuZ2UsXFxuICAgIGlkOiBEaWFnb25hbF8xLFxcbiAgICB2YWx1ZTogMFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICBjb250YWluczogRGlhZ29uYWwgMixcXG4gICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogcmFuZ2UsXFxuICAgIG1pbjogMCxcXG4gICAgbWF4OiAxMDAsXFxuICAgIGNsYXNzOiBkZW1vLXJhbmdlLFxcbiAgICBpZDogRGlhZ29uYWxfMixcXG4gICAgdmFsdWU6IDBcXG4gICkpO1xcbic7XG4gICAgICBpZiAoL2F1dG9tYXRlZCBwb25nL2dpLnRlc3QoX3ApKSBfcHJvamVjdCA9ICcvLyBBdXRob3I6IEthZGVuIEdyaWZmaXRoXFxuLy8gRGVzY3IgOiBBdXRvbWF0ZWQgUG9uZ1xcblxcbmNvbnN0ICA9IHJlcXVpcmUoa2JyZXdfaHlwZXJ0eHQpKCk7XFxuXFxubW9kdWxlLmV4cG9ydHMgPSBcXG4gIFByb2plY3QyOiAoKSA9PiBcXG4gICAgdXNlIHN0cmljdDtcXG5cXG4gICAgY29uc3QgY2FudmFzTmFtZSA9ICNBdXRvbWF0ZWRfUG9uZztcXG5cXG4gICAgaWYoIS5nZXQoY2FudmFzTmFtZSkpIHJldHVybjtcXG5cXG4gICAgbGV0IGNhbnZhcyA9IC5nZXQoY2FudmFzTmFtZSksXFxuICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoMmQpLFxcbiAgICAgIGZvbnRTaXplID0gMTYsXFxuICAgICAgZm9udENvbG9yID0gI2Y0ZjRmNCxcXG4gICAgICB4U3BhY2luZyA9IDE1LFxcbiAgICAgIGFpU3BlZWQgPSA1LjIsXFxuICAgICAgcDF5LCBwMnksIGJ4LCBieSwgeXYsXFxuICAgICAgcGggPSA3MCxcXG4gICAgICBiciA9IDYsXFxuICAgICAgcHQgPSA4LFxcbiAgICAgIGR5ID0gMCxcXG4gICAgICB4diA9IDksXFxuICAgICAgc2NvcmUxID0gMCxcXG4gICAgICBzY29yZTIgPSAwO1xcblxcbiAgICBmdW5jdGlvbiBnZXRSYW5kb21JbnQobWluLCBtYXgpIFxcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoTWF0aC5mbG9vcihtYXgpIC0gTWF0aC5jZWlsKG1pbikpKSArIE1hdGguY2VpbChtaW4pO1xcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gcmVzZXRfZGVmYXVsdCgpIFxcbiAgICAgIGxldCBkaXIgPSB4djtcXG4gICAgICBpZihkaXIgPCAwKSBcXG4gICAgICAgIGJ4ID0gY2FudmFzLndpZHRoIC8gNDtcXG4gICAgICAgZWxzZSBcXG4gICAgICAgIGJ4ID0gMyAqIGNhbnZhcy53aWR0aCAvIDQ7XFxuICAgICAgXFxuICAgICAgYnkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcXG4gICAgICB4diA9IC14djtcXG4gICAgICB5diA9IGdldFJhbmRvbUludCgtMywgMyk7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiByZXNldCgpIFxcbiAgICAgIHAxeSA9IGNhbnZhcy5oZWlnaHQgLyAyIC0gcGggLyAyO1xcbiAgICAgIHAyeSA9IGNhbnZhcy5oZWlnaHQgLyAyIC0gcGggLyAyO1xcbiAgICAgIGJ4ID0gY2FudmFzLndpZHRoIC8gMjtcXG4gICAgICBieSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xcbiAgICAgIHh2ID0gLXh2O1xcbiAgICAgIHl2ID0gZ2V0UmFuZG9tSW50KC0zLCAzKTtcXG4gICAgXFxuXFxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIFxcbiAgICAgIGlmKE1hdGguYWJzKHl2KSA8IDAuNSkgXFxuICAgICAgICB5diA9IGdldFJhbmRvbUludCgtMywgMyk7XFxuICAgICAgXFxuXFxuICAgICAgaWYoYnkgPCBiciAmJiB5diA8IDApIFxcbiAgICAgICAgeXYgPSAteXY7XFxuICAgICAgXFxuXFxuICAgICAgaWYoYnkgPiBjYW52YXMuaGVpZ2h0IC0gYnIgJiYgeXYgPiAwKSBcXG4gICAgICAgIHl2ID0gLXl2O1xcbiAgICAgIFxcblxcbiAgICAgIGlmKHAxeSA8IDApIFxcbiAgICAgICAgcDF5ID0gMDtcXG4gICAgICBcXG5cXG4gICAgICBpZihwMnkgPCAwKSBcXG4gICAgICAgIHAyeSA9IDA7XFxuICAgICAgXFxuXFxuICAgICAgaWYocDF5ICsgcGggPiBjYW52YXMuaGVpZ2h0KSBcXG4gICAgICAgIHAxeSA9IGNhbnZhcy5oZWlnaHQgLSBwaDtcXG4gICAgICBcXG5cXG4gICAgICBpZihwMnkgKyBwaCA+IGNhbnZhcy5oZWlnaHQpIFxcbiAgICAgICAgcDJ5ID0gY2FudmFzLmhlaWdodCAtIHBoO1xcbiAgICAgIFxcblxcbiAgICAgIGlmKGJ4IDwgeFNwYWNpbmcgKyAoMiAqIGJyKSArIHB0KSBcXG4gICAgICAgIGlmKGJ5ID4gcDF5ICYmIGJ5IDw9IHAxeSArIHBoKSBcXG4gICAgICAgICAgeHYgPSAteHY7XFxuICAgICAgICAgIGR5ID0gYnkgLSAocDF5ICsgcGggLyAyKTtcXG4gICAgICAgICAgeXYgPSBkeSAqICgwLjQpO1xcbiAgICAgICAgIGVsc2UgaWYoYnggPCB4U3BhY2luZykgXFxuICAgICAgICAgIHNjb3JlMisrO1xcbiAgICAgICAgICByZXNldF9kZWZhdWx0KCk7XFxuICAgICAgICBcXG4gICAgICBcXG5cXG4gICAgICBpZihieCA+IChjYW52YXMud2lkdGggLSB4U3BhY2luZykgLSBwdCAtIChiciAvIDIpKSBcXG4gICAgICAgIGlmKGJ5ID4gcDJ5ICYmIGJ5IDw9IHAyeSArIHBoKSBcXG4gICAgICAgICAgeHYgPSAteHY7XFxuICAgICAgICAgIGR5ID0gYnkgLSAocDJ5ICsgcGggLyAyKTtcXG4gICAgICAgICAgeXYgPSBkeSAqICgwLjQpO1xcbiAgICAgICAgIGVsc2UgaWYoYnggPiBjYW52YXMud2lkdGggLSB4U3BhY2luZykgXFxuICAgICAgICAgIHNjb3JlMSsrO1xcbiAgICAgICAgICByZXNldF9kZWZhdWx0KCk7XFxuICAgICAgICBcXG4gICAgICBcXG5cXG4gICAgICBieCArPSB4djtcXG4gICAgICBieSArPSB5djtcXG5cXG4gICAgICAvL3BsYXllciBvbiB0aGUgbGVmdFxcbiAgICAgIGlmKHAxeSArIHBoIC8gMiA8IGJ5ICYmIGJ4IDwgMyAqIGNhbnZhcy53aWR0aCAvIDQpIFxcbiAgICAgICAgaWYoeHYgPiAwKSBcXG4gICAgICAgICAgcDF5ICs9IDA7XFxuICAgICAgICAgZWxzZSBpZihwMXkgPCAwIHx8IHAxeSArIHBoID4gY2FudmFzLmhlaWdodCAmJiAoYnkgPiAocDF5ICsgcGggLyA4KSAmJiBieSA8IHAxeSArIChwaCAtIHBoIC8gOCkpKSBcXG4gICAgICAgICAgcDF5ICs9IChhaVNwZWVkICogMC41KTtcXG4gICAgICAgICBlbHNlIGlmKGJ5ID4gKHAxeSArIHBoIC8gMykgJiYgYnkgPCBwMXkgKyAocGggLSBwaCAvIDMpKSBcXG4gICAgICAgICAgcDF5ICs9IChhaVNwZWVkICogMC4yKTtcXG4gICAgICAgICBlbHNlIGlmKGJ4IDwgY2FudmFzLndpZHRoIC8gMTApIFxcbiAgICAgICAgICBwMXkgKz0gKGFpU3BlZWQgKiAwLjc1KTtcXG4gICAgICAgICBlbHNlIGlmKGJ4IDwgMiAqIGNhbnZhcy53aWR0aCAvIDEwICYmIGJ4ID4gY2FudmFzLndpZHRoIC8gMTApIFxcbiAgICAgICAgICBwMXkgKz0gKGFpU3BlZWQgKiAwLjc4KTtcXG4gICAgICAgICBlbHNlIFxcbiAgICAgICAgICBwMXkgKz0gKGFpU3BlZWQgKiAwLjgpO1xcbiAgICAgICAgXFxuICAgICAgIGVsc2UgaWYocDF5ICsgcGggLyAyID4gYnkgJiYgYnggPCAzICogY2FudmFzLndpZHRoIC8gNCkgXFxuICAgICAgICBpZih4diA+IDApIFxcbiAgICAgICAgICBwMXkgLT0gMDtcXG4gICAgICAgICBlbHNlIGlmKHAxeSA8IDAgfHwgcDF5ICsgcGggPiBjYW52YXMuaGVpZ2h0ICYmIChieSA+IChwMXkgKyBwaCAvIDgpICYmIGJ5IDwgcDF5ICsgKHBoIC0gcGggLyA4KSkpIFxcbiAgICAgICAgICBwMXkgLT0gKGFpU3BlZWQgKiAwLjUpO1xcbiAgICAgICAgIGVsc2UgaWYoYnkgPiAocDF5ICsgcGggLyAzKSAmJiBieSA8IHAxeSArIChwaCAtIHBoIC8gMykpIFxcbiAgICAgICAgICBwMXkgLT0gKGFpU3BlZWQgKiAwLjIpO1xcbiAgICAgICAgIGVsc2UgaWYoYnggPCBjYW52YXMud2lkdGggLyAxMCkgXFxuICAgICAgICAgIHAxeSAtPSAoYWlTcGVlZCAqIDAuNzUpO1xcbiAgICAgICAgIGVsc2UgaWYoYnggPCAyICogY2FudmFzLndpZHRoIC8gMTAgJiYgYnggPiBjYW52YXMud2lkdGggLyAxMCkgXFxuICAgICAgICAgIHAxeSAtPSAoYWlTcGVlZCAqIDAuNzgpO1xcbiAgICAgICAgIGVsc2UgXFxuICAgICAgICAgIHAxeSAtPSAoYWlTcGVlZCAqIDAuOCk7XFxuICAgICAgICBcXG4gICAgICBcXG5cXG4gICAgICAvL3BsYXllciBvbiB0aGUgcmlnaHRcXG4gICAgICBpZihwMnkgKyBwaCAvIDIgPCBieSAmJiBieCA+IGNhbnZhcy53aWR0aCAvIDQpIFxcbiAgICAgICAgaWYoeHYgPCAwKSBcXG4gICAgICAgICAgcDJ5ICs9IDA7XFxuICAgICAgICAgZWxzZSBpZihwMnkgPCAwIHx8IHAyeSArIHBoID4gY2FudmFzLmhlaWdodCAmJiAoYnkgPiAocDJ5ICsgcGggLyA4KSAmJiBieSA8IHAyeSArIChwaCAtIHBoIC8gOCkpKSBcXG4gICAgICAgICAgcDJ5ICs9IChhaVNwZWVkICogMC41KTtcXG4gICAgICAgICBlbHNlIGlmKGJ5ID4gKHAyeSArIHBoIC8gMykgJiYgYnkgPCBwMnkgKyAocGggLSBwaCAvIDMpKSBcXG4gICAgICAgICAgcDJ5ICs9IChhaVNwZWVkICogMC4yKTtcXG4gICAgICAgICBlbHNlIGlmKGJ4ID4gOSAqIGNhbnZhcy53aWR0aCAvIDEwKSBcXG4gICAgICAgICAgcDJ5ICs9IChhaVNwZWVkICogMC43NSk7XFxuICAgICAgICAgZWxzZSBpZihieCA+IDggKiBjYW52YXMud2lkdGggLyAxMCAmJiBieCA8IDkgKiBjYW52YXMud2lkdGggLyAxMCkgXFxuICAgICAgICAgIHAyeSArPSAoYWlTcGVlZCAqIDAuNzgpO1xcbiAgICAgICAgIGVsc2UgXFxuICAgICAgICAgIHAyeSArPSAoYWlTcGVlZCAqIDAuOCk7XFxuICAgICAgICBcXG4gICAgICAgZWxzZSBpZihwMnkgKyBwaCAvIDIgPiBieSAmJiBieCA+IGNhbnZhcy53aWR0aCAvIDQpIFxcbiAgICAgICAgaWYoeHYgPCAwKSBcXG4gICAgICAgICAgcDJ5IC09IDA7XFxuICAgICAgICAgZWxzZSBpZihwMnkgPCAwIHx8IHAyeSArIHBoID4gY2FudmFzLmhlaWdodCAmJiAoYnkgPiAocDJ5ICsgcGggLyA4KSAmJiBieSA8IHAyeSArIChwaCAtIHBoIC8gOCkpKSBcXG4gICAgICAgICAgcDJ5IC09IChhaVNwZWVkICogMC41KTtcXG4gICAgICAgICBlbHNlIGlmKGJ5ID4gKHAyeSArIHBoIC8gMykgJiYgYnkgPCBwMnkgKyAocGggLSBwaCAvIDMpKSBcXG4gICAgICAgICAgcDJ5IC09IChhaVNwZWVkICogMC4yKTtcXG4gICAgICAgICBlbHNlIGlmKGJ4ID4gOSAqIGNhbnZhcy53aWR0aCAvIDEwKSBcXG4gICAgICAgICAgcDJ5IC09IChhaVNwZWVkICogMC43NSk7XFxuICAgICAgICAgZWxzZSBpZihieCA+IDggKiBjYW52YXMud2lkdGggLyAxMCAmJiBieCA8IDkgKiBjYW52YXMud2lkdGggLyAxMCkgXFxuICAgICAgICAgIHAyeSAtPSAoYWlTcGVlZCAqIDAuNzgpO1xcbiAgICAgICAgIGVsc2UgXFxuICAgICAgICAgIHAyeSAtPSAoYWlTcGVlZCAqIDAuOCk7XFxuICAgICAgICBcXG4gICAgICBcXG5cXG4gICAgICBkcmF3KCk7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiBkcmF3KCkgXFxuICAgICAgZnVuY3Rpb24gZlJlY3QoeCwgeSwgdywgaCkgXFxuICAgICAgICB4ID0gcGFyc2VJbnQoeCk7XFxuICAgICAgICB5ID0gcGFyc2VJbnQoeSk7XFxuICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgdywgaCk7XFxuICAgICAgXFxuXFxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGJsYWNrO1xcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBjdHguc3Ryb2tlU3R5bGUgPSBmb250Q29sb3I7XFxuICAgICAgZlJlY3QoeFNwYWNpbmcsIHAxeSwgcHQsIHBoKTtcXG4gICAgICBmUmVjdCgoKGNhbnZhcy53aWR0aCAtIHB0KSAtIHhTcGFjaW5nKSwgcDJ5LCBwdCwgcGgpO1xcbiAgICAgIGN0eC5mb250ID0gZm9udFNpemVweCBVYnVudHU7XFxuICAgICAgY3R4LmZpbGxUZXh0KHNjb3JlMSwgNDAsIDMwKTtcXG4gICAgICBjdHguZmlsbFRleHQoc2NvcmUyLCBjYW52YXMud2lkdGggLSA1MCwgMzApO1xcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcXG4gICAgICBjdHguZWxsaXBzZShieCAtIGJyIC8gMiwgYnkgLSBiciAvIDIsIGJyLCBiciwgMiAqIE1hdGguUEksIE1hdGguUEksIDE4MCk7XFxuICAgICAgY3R4LmZpbGwoKTtcXG4gICAgXFxuXFxuICAgIHJlc2V0KCk7XFxuICAgIHNldEludGVydmFsKHVwZGF0ZSwgMTAwMCAvIDYwKTtcXG4gIFxcbjsnO1xuICAgICAgaWYgKC9zaW1wbGUgbWF0aCBnYW1lL2dpLnRlc3QoX3ApKSBfcHJvamVjdCA9ICcvLyBBdXRob3I6IEthZGVuIEdyaWZmaXRoXFxuLy8gRGVzY3IgOiBTaW1wbGUgTWF0aCBHYW1lXFxuXFxuY29uc3QgID0gcmVxdWlyZShrYnJld19oeXBlcnR4dCkoKTtcXG5cXG5tb2R1bGUuZXhwb3J0cyA9IFxcbiAgUHJvamVjdDM6ICgpID0+IFxcbiAgICB1c2Ugc3RyaWN0O1xcblxcbiAgICBjb25zdCBjYW52YXNOYW1lID0gI1NpbXBsZV9NYXRoX0dhbWU7XFxuXFxuICAgIGlmKCEuZ2V0KGNhbnZhc05hbWUpKSByZXR1cm47XFxuXFxuICAgIGZpeEh0bWwoKTtcXG5cXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoa2V5cHJlc3MsIChlKSA9PiBcXG4gICAgICBrZXlQcmVzc2VkID0gZS5rZXk7XFxuICAgICk7XFxuXFxuICAgIGxldCBjYW52YXMgPSAuZ2V0KGNhbnZhc05hbWUpLFxcbiAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KDJkKSxcXG4gICAgICB0ZXh0SW5pdGlhbFBvc2l0aW9uID0gMTMsXFxuICAgICAgdGV4dEluZGVudCA9IDEzLFxcbiAgICAgIGxpbmVOdW1iZXIgPSAxLFxcbiAgICAgIGZvbnRTaXplID0gMTYsXFxuICAgICAgZm9udENvbG9yID0gI2Y0ZjRmNCxcXG4gICAgICBzY29yZSA9IDAsXFxuICAgICAgcG9pbnQgPSBbMSwgcG9pbnRdLFxcbiAgICAgIGEsXFxuICAgICAgYixcXG4gICAgICBrZXlQcmVzc2VkLFxcbiAgICAgIG9wcyA9IFtcXG4gICAgICAgICAgc2lnbjogKyxcXG4gICAgICAgICAgbWV0aG9kOiAoYSwgYikgPT4gYSArIGJcXG4gICAgICAgICxcXG4gICAgICAgIFxcbiAgICAgICAgICBzaWduOiAtLFxcbiAgICAgICAgICBtZXRob2Q6IChhLCBiKSA9PiBhIC0gYlxcbiAgICAgICAgLFxcbiAgICAgICAgXFxuICAgICAgICAgIHNpZ246ICosXFxuICAgICAgICAgIG1ldGhvZDogKGEsIGIpID0+IGEgKiBiXFxuICAgICAgICBcXG4gICAgICBdLFxcbiAgICAgIG9wZXJhdG9yLFxcbiAgICAgIGFuc3dlcixcXG4gICAgICB3b3JkID0gW10sXFxuICAgICAgcHJldmVudFRvdWNoID0gZmFsc2UsXFxuICAgICAgZ2FtZURlbGF5ID0gMTAwMDAsXFxuICAgICAga2V5RnJhbWUgPSAwO1xcblxcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaHN0YXJ0LCAoZSkgPT4gXFxuICAgICAga2V5UHJlc3NlZCA9IEVudGVyO1xcbiAgICApO1xcblxcbiAgICBmdW5jdGlvbiBzZXR1cCgpIFxcbiAgICAgIHByZXZlbnRUb3VjaCA9IGZhbHNlO1xcbiAgICAgIGN0eC5mb250ID0gZm9udFNpemVweCBNb25vc3BhY2U7XFxuICAgICAgc2VsZWN0UHJvYmxlbSgpO1xcbiAgICAgIGFuc3dlciA9IG9wZXJhdG9yLm1ldGhvZChhLCBiKTtcXG4gICAgICBpZihhbnN3ZXIgPCAwKSByZXR1cm4gc2V0dXAoKTtcXG4gICAgICBrZXlGcmFtZSA9IDA7XFxuICAgIFxcblxcbiAgICBzZXRJbnRlcnZhbCh1cGRhdGUsIDEwMDAgLyA2MCk7XFxuXFxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIFxcbiAgICAgIGtleUZyYW1lKys7XFxuICAgICAgaWYoa2V5RnJhbWUgPT09IGdhbWVEZWxheSAqIDYwIC8gMTAwMCkgXFxuICAgICAgICBrZXlGcmFtZSA9IDA7XFxuICAgICAgICBzZWxlY3RQcm9ibGVtKCk7XFxuICAgICAgXFxuICAgICAgaWYoa2V5UHJlc3NlZCkgXFxuICAgICAgICBpZihrZXlQcmVzc2VkICE9PSBFbnRlcikgXFxuICAgICAgICAgIHdvcmQucHVzaChrZXlQcmVzc2VkKTtcXG4gICAgICAgICAgd3JpdGVDaGFyKGtleVByZXNzZWQpO1xcbiAgICAgICAgIGVsc2UgXFxuICAgICAgICAgIHRleHRJbmRlbnQgPSB0ZXh0SW5pdGlhbFBvc2l0aW9uO1xcbiAgICAgICAgICBsaW5lTnVtYmVyKys7XFxuICAgICAgICAgIGdhbWUoKTtcXG4gICAgICAgIFxcbiAgICAgICAga2V5UHJlc3NlZCA9IHVuZGVmaW5lZDtcXG4gICAgICBcXG4gICAgXFxuXFxuICAgIGZ1bmN0aW9uIGdhbWUoKSBcXG4gICAgICBsZXQgX2lucHV0ID0gTnVtYmVyKHdvcmQuam9pbigpLnJlcGxhY2UoLywvZywgKSk7XFxuICAgICAgd29yZCA9IFtdO1xcbiAgICAgIHByZXZlbnRUb3VjaCA9IHRydWU7XFxuICAgICAgaWYoX2lucHV0ID09PSBhbnN3ZXIpIFxcbiAgICAgICAgd3JpdGUoVGhhdHMgY29ycmVjdCEpO1xcbiAgICAgICAgc2NvcmUrKztcXG4gICAgICAgIHNldHVwKCk7XFxuICAgICAgIGVsc2UgXFxuICAgICAgICB3cml0ZShJbmNvcnJlY3QuKTtcXG4gICAgICAgIHNldFRpbWVvdXQoc2V0dXAsIDEwMDApO1xcbiAgICAgIFxcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tSW50ZWdlcihtaW4sIG1heCkgXFxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcXG4gICAgXFxuXFxuICAgIGZ1bmN0aW9uIGNhbGNZKGEsIGIsIGMpIFxcbiAgICAgIHJldHVybiBiICogYyArIGE7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiBzZWxlY3RQcm9ibGVtKCkgXFxuICAgICAgY2xlYXIoKTtcXG4gICAgICBhID0gZ2V0UmFuZG9tSW50ZWdlcigxLCAxMCk7XFxuICAgICAgYiA9IGdldFJhbmRvbUludGVnZXIoMSwgMTApO1xcbiAgICAgIG9wZXJhdG9yID0gb3BzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG9wcy5sZW5ndGgpXTtcXG4gICAgICByZXBvcnRTY29yZSgpO1xcbiAgICAgIHdyaXRlKFNvbHZlIGEgb3BlcmF0b3Iuc2lnbiBiID0gPyk7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiByZXBvcnRTY29yZSgpIFxcbiAgICAgIHdyaXRlKHNjb3JlID09PSAxID8gU2NvcmU6IHNjb3JlIHBvaW50WzFdIDogU2NvcmU6IHNjb3JlIHBvaW50WzFdcyk7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiB3cml0ZSh3aGF0KSBcXG4gICAgICBjdHguZmlsbFN0eWxlID0gZm9udENvbG9yO1xcblxcbiAgICAgIGxldCBfeSA9IGNhbGNZKHRleHRJbml0aWFsUG9zaXRpb24sIGxpbmVOdW1iZXIsIGZvbnRTaXplKTtcXG5cXG4gICAgICBpZihfeSA+IGNhbnZhcy5oZWlnaHQgLSBmb250U2l6ZSkgXFxuICAgICAgICByZXR1cm4gc2VsZWN0UHJvYmxlbSgpO1xcbiAgICAgIFxcblxcbiAgICAgIGN0eC5maWxsVGV4dCh3aGF0LCB0ZXh0SW5pdGlhbFBvc2l0aW9uLCBfeSk7XFxuICAgICAgbGluZU51bWJlcisrO1xcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gd3JpdGVDaGFyKHdoYXQpIFxcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBmb250Q29sb3I7XFxuICAgICAgbGV0IF95ID0gY2FsY1kodGV4dEluaXRpYWxQb3NpdGlvbiwgbGluZU51bWJlciwgZm9udFNpemUpO1xcbiAgICAgIGN0eC5maWxsVGV4dCh3aGF0LCB0ZXh0SW5kZW50LCBfeSk7XFxuICAgICAgdGV4dEluZGVudCArPSBmb250U2l6ZSAvIDI7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiBjbGVhcigpIFxcbiAgICAgIGxpbmVOdW1iZXIgPSAxO1xcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBibGFjaztcXG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcXG4gICAgXFxuXFxuICAgIHNldHVwKCk7XFxuICBcXG47XFxuXFxud2luZG93LnNob3dLZXlib2FyZCA9ICgpID0+IFxcbiAgLmdldCgjc2hvdy10aGUtd29ybGQtYS1zZWNyZXQpLmZvY3VzKCk7XFxuO1xcblxcbmZ1bmN0aW9uIGZpeEh0bWwoKSBcXG4gIC5hZGQoLmdldCguZGVtby1hZGRvbnMpLCAuZ2V0RWxlbWVudChcXG4gICAgY2xhc3M6IGJ1dHRvbi1kZW1vLWV4dHJhLFxcbiAgICBvbmNsaWNrOiBqYXZhc2NyaXB0OnNob3dLZXlib2FyZCgpOyxcXG4gICAgY29udGFpbnM6IFNob3cgS2V5Ym9hcmRcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogbnVtYmVyLFxcbiAgICBpbnB1dG1vZGU6IG51bWVyaWMsXFxuICAgIHBhdHRlcm46IFswLTldKixcXG4gICAgc3R5bGU6IHBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweDssXFxuICAgIGlkOiBzaG93LXRoZS13b3JsZC1hLXNlY3JldFxcbiAgKSk7XFxuJztcbiAgICAgIGlmICgvZ3Vlc3MgdGhlIG51bWJlci9naS50ZXN0KF9wKSkgX3Byb2plY3QgPSAnLy8gQXV0aG9yOiBLYWRlbiBHcmlmZml0aFxcbi8vIERlc2NyIDogR3Vlc3MgVGhlIE51bWJlclxcblxcbmNvbnN0ICA9IHJlcXVpcmUoa2JyZXdfaHlwZXJ0eHQpKCk7XFxuXFxubW9kdWxlLmV4cG9ydHMgPSBcXG4gIFByb2plY3Q0OiAoKSA9PiBcXG4gICAgdXNlIHN0cmljdDtcXG5cXG4gICAgY29uc3QgY2FudmFzTmFtZSA9ICNHdWVzc19UaGVfTnVtYmVyO1xcblxcbiAgICBpZighLmdldChjYW52YXNOYW1lKSkgcmV0dXJuO1xcblxcbiAgICBmaXhIdG1sKCk7XFxuXFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGtleXByZXNzLCAoZSkgPT4gXFxuICAgICAga2V5UHJlc3NlZCA9IGUua2V5O1xcbiAgICApO1xcblxcbiAgICBsZXQgY2FudmFzID0gLmdldChjYW52YXNOYW1lKSxcXG4gICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgyZCksXFxuICAgICAgZm9udFNpemUgPSAxNCxcXG4gICAgICBmb250Q29sb3IgPSAjZjRmNGY0LFxcbiAgICAgIHRleHRJbml0aWFsUG9zaXRpb24gPSAxMyxcXG4gICAgICB0ZXh0SW5kZW50ID0gMTMsXFxuICAgICAgbGluZU51bWJlciA9IDEsXFxuICAgICAgZ2FtZURlbGF5ID0gMTAwMDAsXFxuICAgICAga2V5UHJlc3NlZCxcXG4gICAgICBudW1iZXIsXFxuICAgICAgd29yZCA9IFtdLFxcbiAgICAgIHByZXZlbnRUb3VjaCA9IGZhbHNlLFxcbiAgICAgIGhpc3RvcnkgPSBbXTtcXG5cXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hzdGFydCwgKGUpID0+IFxcbiAgICAgIGtleVByZXNzZWQgPSBFbnRlcjtcXG4gICAgKTtcXG5cXG4gICAgZnVuY3Rpb24gc2V0dXAoKSBcXG4gICAgICBwcmV2ZW50VG91Y2ggPSBmYWxzZTtcXG4gICAgICBoaXN0b3J5ID0gW107XFxuICAgICAgY3R4LmZvbnQgPSBmb250U2l6ZXB4IE1vbm9zcGFjZTtcXG4gICAgICBjbGVhcigpO1xcbiAgICAgIG51bWJlciA9IGdldFJhbmRvbUludGVnZXIoMSwgMTAwKTtcXG4gICAgICBzZXRJbnRlcnZhbCh1cGRhdGUsIDEwMDAgLyA2MCk7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiB1cGRhdGUoKSBcXG4gICAgICBpZihrZXlQcmVzc2VkKSBcXG4gICAgICAgIGlmKGtleVByZXNzZWQgIT09IEVudGVyKSBcXG4gICAgICAgICAgd29yZC5wdXNoKGtleVByZXNzZWQpO1xcbiAgICAgICAgICB3cml0ZUNoYXIoa2V5UHJlc3NlZCk7XFxuICAgICAgICAgZWxzZSBcXG4gICAgICAgICAgdGV4dEluZGVudCA9IHRleHRJbml0aWFsUG9zaXRpb247XFxuICAgICAgICAgIGxpbmVOdW1iZXIrKztcXG4gICAgICAgICAgZ2FtZSgpO1xcbiAgICAgICAgXFxuICAgICAgICBrZXlQcmVzc2VkID0gdW5kZWZpbmVkO1xcbiAgICAgIFxcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gZ2FtZSgpIFxcbiAgICAgIGxldCBfZ3Vlc3MgPSBOdW1iZXIod29yZC5qb2luKCkucmVwbGFjZSgvLC9nLCApKTtcXG4gICAgICBpZighaXNOYU4oX2d1ZXNzKSkgaGlzdG9yeS51bnNoaWZ0KF9ndWVzcyk7XFxuICAgICAgcmV3cml0ZUd1ZXNzZXMoKTtcXG4gICAgICB3b3JkID0gW107XFxuICAgICAgaWYoX2d1ZXNzID09PSBudW1iZXIpIFxcbiAgICAgICAgcHJldmVudFRvdWNoID0gdHJ1ZTtcXG4gICAgICAgIGlmKGhpc3RvcnkubGVuZ3RoID4gMSkgXFxuICAgICAgICAgIHdyaXRlKFRoYXRzIGNvcnJlY3QhKTtcXG4gICAgICAgICAgd3JpdGUoWW91IHdvbiBpbiBoaXN0b3J5Lmxlbmd0aCBhdHRlbXB0cy4pO1xcbiAgICAgICAgIGVsc2VcXG4gICAgICAgIGlmKGhpc3RvcnkubGVuZ3RoID09PSAxKSBcXG4gICAgICAgICAgd3JpdGUoWW91cmUgYSBndWVzc2luZyBtYXN0ZXIhKTtcXG4gICAgICAgICAgd3JpdGUoWW91IHdvbiBpbiAxIGF0dGVtcHQhKTtcXG4gICAgICAgIFxcbiAgICAgICAgc2V0VGltZW91dChzZXR1cCwgZ2FtZURlbGF5KTtcXG4gICAgICAgZWxzZSBpZihfZ3Vlc3MgPCBudW1iZXIpIFxcbiAgICAgICAgd3JpdGUoVG9vIGxvdyEgR3Vlc3MgYWdhaW4uKTtcXG4gICAgICAgZWxzZSBpZihfZ3Vlc3MgPiBudW1iZXIpIFxcbiAgICAgICAgd3JpdGUoVG9vIGhpZ2ghIEd1ZXNzIGFnYWluLik7XFxuICAgICAgIGVsc2UgXFxuICAgICAgICB3cml0ZShQbGVhc2UgZ3Vlc3MgYSBudW1iZXIuKTtcXG4gICAgICBcXG4gICAgXFxuXFxuICAgIGZ1bmN0aW9uIGdldFJhbmRvbUludGVnZXIobWluLCBtYXgpIFxcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiBjYWxjWShhLCBiLCBjKSBcXG4gICAgICByZXR1cm4gYiAqIGMgKyBhO1xcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gd3JpdGUod2hhdCkgXFxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGZvbnRDb2xvcjtcXG5cXG4gICAgICBsZXQgX3kgPSBjYWxjWSh0ZXh0SW5pdGlhbFBvc2l0aW9uLCBsaW5lTnVtYmVyLCBmb250U2l6ZSk7XFxuXFxuICAgICAgaWYoX3kgPiBjYW52YXMuaGVpZ2h0IC0gZm9udFNpemUpIFxcbiAgICAgICAgY2xlYXIoKTtcXG4gICAgICAgIF95ID0gY2FsY1kodGV4dEluaXRpYWxQb3NpdGlvbiwgbGluZU51bWJlciwgZm9udFNpemUpO1xcbiAgICAgIFxcblxcbiAgICAgIGN0eC5maWxsVGV4dCh3aGF0LCB0ZXh0SW5pdGlhbFBvc2l0aW9uLCBfeSk7XFxuICAgICAgbGluZU51bWJlcisrO1xcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gd3JpdGVDaGFyKHdoYXQpIFxcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBmb250Q29sb3I7XFxuICAgICAgbGV0IF95ID0gY2FsY1kodGV4dEluaXRpYWxQb3NpdGlvbiwgbGluZU51bWJlciwgZm9udFNpemUpO1xcbiAgICAgIGN0eC5maWxsVGV4dCh3aGF0LCB0ZXh0SW5kZW50LCBfeSk7XFxuICAgICAgdGV4dEluZGVudCArPSBmb250U2l6ZSAvIDI7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiByZXdyaXRlR3Vlc3NlcyhhZGRMaW5lID0gZmFsc2UpIFxcbiAgICAgIC8vIENvdmVyIHByZXZpb3VzIGFycmF5XFxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGJsYWNrO1xcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAoMyAqIGZvbnRTaXplKSwgY2FudmFzLndpZHRoLCAxLjIgKiBmb250U2l6ZSk7XFxuXFxuICAgICAgbGV0IF95ID0gdGV4dEluaXRpYWxQb3NpdGlvbiArICgzICogZm9udFNpemUpO1xcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBmb250Q29sb3I7XFxuICAgICAgY3R4LmZpbGxUZXh0KFtoaXN0b3J5LmpvaW4oLCApLnN1YnN0cmluZygwLCBjYW52YXMud2lkdGggLyBmb250U2l6ZSldLCB0ZXh0SW5kZW50LCBfeSk7XFxuICAgICAgaWYoYWRkTGluZSkgbGluZU51bWJlcisrO1xcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gY2xlYXIoKSBcXG4gICAgICBsaW5lTnVtYmVyID0gMTtcXG4gICAgICBjdHguZmlsbFN0eWxlID0gYmxhY2s7XFxuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XFxuICAgICAgd3JpdGUoV2VsY29tZSB0byB0aGUgZ3Vlc3NpbmcgZ2FtZS4pO1xcbiAgICAgIHdyaXRlKEd1ZXNzIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgMTAwLik7XFxuICAgICAgcmV3cml0ZUd1ZXNzZXModHJ1ZSk7XFxuICAgICAgbGluZU51bWJlcisrO1xcbiAgICBcXG5cXG4gICAgc2V0dXAoKTtcXG4gIFxcbjtcXG5cXG53aW5kb3cuc2hvd0tleWJvYXJkID0gKCkgPT4gXFxuICAuZ2V0KCNzaG93LXRoZS13b3JsZC1hLXNlY3JldCkuZm9jdXMoKTtcXG47XFxuXFxuZnVuY3Rpb24gZml4SHRtbCgpIFxcbiAgLmFkZCguZ2V0KC5kZW1vLWFkZG9ucyksIC5nZXRFbGVtZW50KFxcbiAgICBjbGFzczogYnV0dG9uLWRlbW8tZXh0cmEsXFxuICAgIG9uY2xpY2s6IGphdmFzY3JpcHQ6c2hvd0tleWJvYXJkKCk7LFxcbiAgICBjb250YWluczogU2hvdyBLZXlib2FyZFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiBudW1iZXIsXFxuICAgIGlucHV0bW9kZTogbnVtZXJpYyxcXG4gICAgcGF0dGVybjogWzAtOV0qLFxcbiAgICBzdHlsZTogcG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4OyxcXG4gICAgaWQ6IHNob3ctdGhlLXdvcmxkLWEtc2VjcmV0XFxuICApKTtcXG4nO1xuICAgICAgaWYgKC9zbmFrZS9naS50ZXN0KF9wKSkgX3Byb2plY3QgPSAnLy8gQXV0aG9yOiBLYWRlbiBHcmlmZml0aFxcbi8vIERlc2NyIDogU25ha2VcXG5cXG5jb25zdCAgPSByZXF1aXJlKGticmV3X2h5cGVydHh0KSgpO1xcblxcbm1vZHVsZS5leHBvcnRzID0gXFxuICBQcm9qZWN0NTogKCkgPT4gXFxuICAgIHVzZSBzdHJpY3Q7XFxuXFxuICAgIGNvbnN0IGNhbnZhc05hbWUgPSAjU25ha2U7XFxuXFxuICAgIGlmKCEuZ2V0KGNhbnZhc05hbWUpKSByZXR1cm47XFxuXFxuICAgIGZpeEh0bWwoKTtcXG5cXG4gICAgbGV0IGNhbnZhcyA9IC5nZXQoY2FudmFzTmFtZSksXFxuICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoMmQpLFxcbiAgICAgIHh2ID0gMCxcXG4gICAgICB5diA9IDAsXFxuICAgICAgdGFpbCA9IDUsXFxuICAgICAgdHJhaWwgPSBbXSxcXG4gICAgICBweCA9IDAsXFxuICAgICAgcHkgPSAwLFxcbiAgICAgIGZ4ID0gMCxcXG4gICAgICBmeSA9IDAsXFxuICAgICAgc2NvcmUgPSAwLFxcbiAgICAgIG11bHQgPSAwLFxcbiAgICAgIGdhbWVEaWZmaWN1bHR5ID0gOCxcXG4gICAgICBncmlkID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoY2FudmFzLmhlaWdodCkpLFxcbiAgICAgIHRjID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoY2FudmFzLmhlaWdodCkpO1xcblxcbiAgICBweCA9IGdldFJhbmRvbVBvc2l0aW9uKDAsIHRjKTtcXG4gICAgcHkgPSBnZXRSYW5kb21Qb3NpdGlvbigwLCB0Yyk7XFxuXFxuICAgIGZ4ID0gZ2V0UmFuZG9tUG9zaXRpb24oMCwgdGMpO1xcbiAgICBmeSA9IGdldFJhbmRvbVBvc2l0aW9uKDAsIHRjKTtcXG5cXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoa2V5cHJlc3MsIChlKSA9PiBcXG4gICAgICBpZigvdy9naS50ZXN0KGUua2V5KSkgXFxuICAgICAgICB4diA9IDA7XFxuICAgICAgICB5diA9IC0xO1xcbiAgICAgICBlbHNlIGlmKC9hL2dpLnRlc3QoZS5rZXkpKSBcXG4gICAgICAgIHh2ID0gLTE7XFxuICAgICAgICB5diA9IDA7XFxuICAgICAgIGVsc2UgaWYoL3MvZ2kudGVzdChlLmtleSkpIFxcbiAgICAgICAgeHYgPSAwO1xcbiAgICAgICAgeXYgPSAxO1xcbiAgICAgICBlbHNlIGlmKC9kL2dpLnRlc3QoZS5rZXkpKSBcXG4gICAgICAgIHh2ID0gMTtcXG4gICAgICAgIHl2ID0gMDtcXG4gICAgICBcXG4gICAgKTtcXG5cXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hzdGFydCwgaGFuZGxlVG91Y2hTdGFydCwgZmFsc2UpO1xcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaG1vdmUsIGhhbmRsZVRvdWNoTW92ZSwgZmFsc2UpO1xcblxcbiAgICBsZXQgeERvd24gPSBudWxsLFxcbiAgICAgIHlEb3duID0gbnVsbDtcXG5cXG4gICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldnQpIFxcbiAgICAgIHhEb3duID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDtcXG4gICAgICB5RG93biA9IGV2dC50b3VjaGVzWzBdLmNsaWVudFk7XFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZ0KSBcXG4gICAgICBpZigheERvd24gfHwgIXlEb3duKSBcXG4gICAgICAgIHJldHVybjtcXG4gICAgICBcXG5cXG4gICAgICBsZXQgeFVwID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCxcXG4gICAgICAgIHlVcCA9IGV2dC50b3VjaGVzWzBdLmNsaWVudFksXFxuXFxuICAgICAgICB4RGlmZiA9IHhEb3duIC0geFVwLFxcbiAgICAgICAgeURpZmYgPSB5RG93biAtIHlVcDtcXG5cXG4gICAgICBpZihNYXRoLmFicyh4RGlmZikgPiBNYXRoLmFicyh5RGlmZikpIFxcbiAgICAgICAgaWYoeERpZmYgPiAwKSBcXG4gICAgICAgICAgLyogbGVmdCBzd2lwZSAqL1xcbiAgICAgICAgICB4diA9IC0xO1xcbiAgICAgICAgICB5diA9IDA7XFxuICAgICAgICAgZWxzZSBcXG4gICAgICAgICAgLyogcmlnaHQgc3dpcGUgKi9cXG4gICAgICAgICAgeHYgPSAxO1xcbiAgICAgICAgICB5diA9IDA7XFxuICAgICAgICBcXG4gICAgICAgZWxzZSBcXG4gICAgICAgIGlmKHlEaWZmID4gMCkgXFxuICAgICAgICAgIC8qIHVwIHN3aXBlICovXFxuICAgICAgICAgIHh2ID0gMDtcXG4gICAgICAgICAgeXYgPSAtMTtcXG4gICAgICAgICBlbHNlIFxcbiAgICAgICAgICAvKiBkb3duIHN3aXBlICovXFxuICAgICAgICAgIHh2ID0gMDtcXG4gICAgICAgICAgeXYgPSAxO1xcbiAgICAgICAgXFxuICAgICAgXFxuICAgICAgeERvd24gPSBudWxsO1xcbiAgICAgIHlEb3duID0gbnVsbDtcXG4gICAgXFxuXFxuICAgIHNldEludGVydmFsKHVwZGF0ZSwgMTAwMCAvIGdhbWVEaWZmaWN1bHR5KTtcXG5cXG4gICAgZnVuY3Rpb24gdXBkYXRlKCkgXFxuICAgICAgaWYoIS5nZXQoY2FudmFzTmFtZSkpIHJldHVybjtcXG4gICAgICBkcmF3KCk7XFxuXFxuICAgICAgcHggKz0geHY7XFxuICAgICAgcHkgKz0geXY7XFxuXFxuICAgICAgaWYocHggPCAwKSBcXG4gICAgICAgIHB4ID0gdGMgKyAxO1xcbiAgICAgIFxcbiAgICAgIGlmKHB4ID4gdGMgKyAxKSBcXG4gICAgICAgIHB4ID0gMDtcXG4gICAgICBcXG4gICAgICBpZihweSA8IC0wLjUpIFxcbiAgICAgICAgcHkgPSB0YyArIDE7XFxuICAgICAgXFxuICAgICAgaWYocHkgPiB0YyArIDEpIFxcbiAgICAgICAgcHkgPSAwO1xcbiAgICAgIFxcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gZHJhdygpIFxcbiAgICAgIGN0eC5mb250ID0gMTZweCBVYnVudHU7XFxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICNmNGY0ZjQ7XFxuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XFxuXFxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICNmNGY0ZjQ7XFxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xcblxcbiAgICAgIGN0eC5lbGxpcHNlKChmeCAqIGdyaWQpICsgKGdyaWQgLyAyKSAtIDEsIChmeSAqIGdyaWQpICsgKGdyaWQgLyAyKSAtIDEsIChncmlkIC8gMikgLSAyLCAoZ3JpZCAvIDIpIC0gMiwgMiAqIE1hdGguUEksIE1hdGguUEksIDE4MCk7XFxuXFxuICAgICAgY3R4LmZpbGwoKTtcXG4gICAgICBjdHguc3Ryb2tlKCk7XFxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICNhYWE7XFxuXFxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRyYWlsLmxlbmd0aDsgaSsrKSBcXG4gICAgICAgIGN0eC5maWxsUmVjdCh0cmFpbFtpXS54ICogZ3JpZCwgdHJhaWxbaV0ueSAqIGdyaWQsIGdyaWQgLSAyLCBncmlkIC0gMik7XFxuICAgICAgICBpZih0cmFpbFtpXS54ID09PSBweCAmJiB0cmFpbFtpXS55ID09PSBweSkgXFxuICAgICAgICAgIG11bHQgPSAwO1xcbiAgICAgICAgICBzY29yZSA9IDA7XFxuICAgICAgICAgIGdhbWVEaWZmaWN1bHR5ID0gODtcXG4gICAgICAgICAgdGFpbCA9IDU7XFxuICAgICAgICBcXG4gICAgICBcXG4gICAgICB0cmFpbC5wdXNoKFxcbiAgICAgICAgeDogcHgsXFxuICAgICAgICB5OiBweVxcbiAgICAgICk7XFxuXFxuICAgICAgd2hpbGUodHJhaWwubGVuZ3RoID4gdGFpbCkgXFxuICAgICAgICB0cmFpbC5zaGlmdCgpO1xcbiAgICAgIFxcblxcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAjMTExO1xcbiAgICAgIGN0eC5maWxsVGV4dChTY29yZTogICsgc2NvcmUsIDIwLCBjYW52YXMuaGVpZ2h0IC0gNTApO1xcbiAgICAgIGN0eC5maWxsVGV4dChGb29kIENvbGxlY3RlZDogICsgbXVsdCwgMjAsIGNhbnZhcy5oZWlnaHQgLSAyNSk7XFxuXFxuICAgICAgaWYoZnggPT09IHB4ICYmIGZ5ID09PSBweSkgXFxuICAgICAgICBzY29yZSA9IHNjb3JlICsgMjAgKiB0YWlsO1xcbiAgICAgICAgbXVsdCA9IG11bHQgKyB0YWlsIC8gdHJhaWwubGVuZ3RoO1xcbiAgICAgICAgZ2FtZURpZmZpY3VsdHkgPSBnYW1lRGlmZmljdWx0eSArIDE7XFxuICAgICAgICB0YWlsKys7XFxuICAgICAgICBmeCA9IGdldFJhbmRvbVBvc2l0aW9uKDAsIHRjKTtcXG4gICAgICAgIGZ5ID0gZ2V0UmFuZG9tUG9zaXRpb24oMCwgdGMpO1xcbiAgICAgIFxcbiAgICBcXG5cXG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tUG9zaXRpb24obWluLCBtYXgpIFxcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XFxuICAgIFxcbiAgXFxuO1xcblxcbndpbmRvdy5wcmV2ZW50U2Nyb2xsaW5nID0gKCkgPT4gXFxuICBpZiguZ2V0KCNwb3BvdmVyKS5zdHlsZS5vdmVyZmxvd1kgPT09IGhpZGRlbikgXFxuICAgIC5nZXQoI3dyYXBwZXIpLnN0eWxlLnBvc2l0aW9uID0gYWJzb2x1dGU7XFxuICAgIC5nZXQoLnByb2plY3Qtc2Nyb2xsZXItY29udGFpbmVyKS5zdHlsZS5vdmVyZmxvd1kgPSBzY3JvbGw7XFxuICAgIC5nZXQoI3BvcG92ZXIpLnN0eWxlLm92ZXJmbG93WSA9IHNjcm9sbDtcXG4gICAgLmdldCguZGVtby1jb2RlKS5zdHlsZS5vdmVyZmxvdyA9IHNjcm9sbDtcXG4gICAgLmdldCguYnV0dG9uLWRlbW8tZXh0cmEpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRyYW5zcGFyZW50O1xcbiAgICAuZ2V0KC5idXR0b24tZGVtby1leHRyYSkuaW5uZXJIVE1MID0gRGlzYWJsZSBTY3JvbGw7XFxuICAgZWxzZSBcXG4gICAgLmdldCgjd3JhcHBlcikuc3R5bGUucG9zaXRpb24gPSBmaXhlZDtcXG4gICAgLmdldCgucHJvamVjdC1zY3JvbGxlci1jb250YWluZXIpLnN0eWxlLm92ZXJmbG93WSA9IGhpZGRlbjtcXG4gICAgLmdldCgjcG9wb3Zlcikuc3R5bGUub3ZlcmZsb3dZID0gaGlkZGVuO1xcbiAgICAuZ2V0KC5kZW1vLWNvZGUpLnN0eWxlLm92ZXJmbG93ID0gaGlkZGVuO1xcbiAgICAuZ2V0KC5idXR0b24tZGVtby1leHRyYSkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZ29sZDtcXG4gICAgLmdldCguYnV0dG9uLWRlbW8tZXh0cmEpLmlubmVySFRNTCA9IEVuYWJsZSBTY3JvbGw7XFxuICBcXG47XFxuXFxuZnVuY3Rpb24gZml4SHRtbCgpIFxcbiAgLmFkZCguZ2V0KC5kZW1vLWFkZG9ucyksIC5nZXRFbGVtZW50KFxcbiAgICBjbGFzczogYnV0dG9uLWRlbW8tZXh0cmEsXFxuICAgIG9uY2xpY2s6IGphdmFzY3JpcHQ6cHJldmVudFNjcm9sbGluZygpOyxcXG4gICAgY29udGFpbnM6IERpc2FibGUgU2Nyb2xsXFxuICApKTtcXG4nO1xuICAgICAgaWYgKC9jb2xvciB2aWV3ZXIvZ2kudGVzdChfcCkpIF9wcm9qZWN0ID0gJy8vIEF1dGhvcjogS2FkZW4gR3JpZmZpdGhcXG4vLyBEZXNjciA6IENvbG9yIFZpZXdlclxcblxcbmNvbnN0ICA9IHJlcXVpcmUoa2JyZXdfaHlwZXJ0eHQpKCk7XFxuXFxud2luZG93LnA2ID0gXFxuICBpbnRlcm5hbENvbG9yOiBcXG4gICAgcmVkOiAyNTUsXFxuICAgIGdyZWVuOiAyNTUsXFxuICAgIGJsdWU6IDI1NSxcXG4gICAgYWxwaGE6IDEwMFxcbiAgLFxcbiAgZm9udF9zaG93bjogdHJ1ZSxcXG4gIGZvbnRDb2xvcjogYmxhY2ssXFxuICBiYWNrZ3JvdW5kQ29sb3I6IGJsYWNrXFxuO1xcblxcbm1vZHVsZS5leHBvcnRzID0gXFxuICBQcm9qZWN0NjogKCkgPT4gXFxuICAgIHVzZSBzdHJpY3Q7XFxuXFxuICAgIGxldCBjYW52YXNOYW1lID0gI0NvbG9yX1ZpZXdlcjtcXG5cXG4gICAgbGV0IHZpZXcsXFxuICAgICAgdmlld19wcmV2aWV3LFxcbiAgICAgIGNhbnZhcyA9IC5nZXQoY2FudmFzTmFtZSksXFxuICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoMmQpLFxcbiAgICAgIGZyYW1lcmF0ZSA9IDEwMDAgLyA2MDtcXG5cXG4gICAgaWYoIS5nZXQoY2FudmFzTmFtZSkpIHJldHVybjtcXG5cXG4gICAgZml4SHRtbCgpO1xcblxcbiAgICBzZXRJbnRlcnZhbCh1cGRhdGUsIGZyYW1lcmF0ZSk7XFxuXFxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIFxcbiAgICAgIGlmKCEuZ2V0KGNhbnZhc05hbWUpKSByZXR1cm47XFxuXFxuICAgICAgcDYuaW50ZXJuYWxDb2xvci5yZWQgPSAuZ2V0KC5kZW1vLXJhbmdlX3IpLnZhbHVlO1xcbiAgICAgIHA2LmludGVybmFsQ29sb3IuZ3JlZW4gPSAuZ2V0KC5kZW1vLXJhbmdlX2cpLnZhbHVlO1xcbiAgICAgIHA2LmludGVybmFsQ29sb3IuYmx1ZSA9IC5nZXQoLmRlbW8tcmFuZ2VfYikudmFsdWU7XFxuICAgICAgcDYuaW50ZXJuYWxDb2xvci5hbHBoYSA9IC5nZXQoLmRlbW8tcmFuZ2VfYSkudmFsdWU7XFxuXFxuICAgICAgbGV0IHJnYmEgPSBjb2xvclN0cmluZygpLFxcbiAgICAgICAgaGV4ID0gaGV4U3RyaW5nKCk7XFxuXFxuICAgICAgLmdldCgjaGlkZGVuLWNvcHktY29sb3IpLnZhbHVlID0gcmdiYTtcXG4gICAgICAuZ2V0KCNoaWRkZW4tY29weS1oZXgpLnZhbHVlID0gaGV4O1xcblxcbiAgICAgIGlmKCEuZ2V0KCNjdXJyZW50Q29sb3IpLmlubmVySFRNTC5pbmNsdWRlcyhyZ2JhKSB8fCAuZ2V0KCNiYWNrZ3JvdW5kQ29sb3IpLnZhbHVlICE9PSBwNi5iYWNrZ3JvdW5kQ29sb3IgfHwgLmdldCgjZm9udENvbG9yKS52YWx1ZSAhPT0gcDYuZm9udENvbG9yKSBcXG4gICAgICAgIC5nZXQoI2N1cnJlbnRDb2xvcikuaW5uZXJIVE1MID0gcmdiYSBoZXg7XFxuXFxuICAgICAgICBkcmF3KCk7XFxuICAgICAgXFxuICAgIFxcblxcbiAgICBmdW5jdGlvbiBkcmF3KCkgXFxuICAgICAgbGV0IF93ID0gY2FudmFzLndpZHRoLFxcbiAgICAgICAgX2ggPSBjYW52YXMuaGVpZ2h0O1xcblxcbiAgICAgIHA2LmJhY2tncm91bmRDb2xvciA9IC5nZXQoI2JhY2tncm91bmRDb2xvcikudmFsdWUgPyAuZ2V0KCNiYWNrZ3JvdW5kQ29sb3IpLnZhbHVlIDogcDYuYmFja2dyb3VuZENvbG9yO1xcbiAgICAgIHA2LmZvbnRDb2xvciA9IC5nZXQoI2ZvbnRDb2xvcikudmFsdWUgPyAuZ2V0KCNmb250Q29sb3IpLnZhbHVlIDogcDYuZm9udENvbG9yO1xcblxcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcXG4gICAgICBjdHguZmlsbFN0eWxlID0gcDYuYmFja2dyb3VuZENvbG9yO1xcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBfdywgX2gpO1xcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvclN0cmluZygpO1xcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBfdywgX2gpO1xcbiAgICAgIGlmKHA2LmZvbnRfc2hvd24pIFxcbiAgICAgICAgY3R4LmZvbnQgPSAgX3cgLyAycHggRGFuY2luZyBTY3JpcHQsIGN1cnNpdmU7XFxuICAgICAgICBjdHgudGV4dEFsaWduID0gY2VudGVyO1xcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IG1pZGRsZTtcXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBwNi5mb250Q29sb3I7XFxuICAgICAgICBjdHguZmlsbFRleHQoRm9vLCBfdyAvIDIsIF9oIC8gMik7XFxuICAgICAgXFxuICAgIFxcbiAgXFxuO1xcblxcbmZ1bmN0aW9uIGhleFN0cmluZygpIFxcbiAgbGV0IGNvbXBvbmVudFRvSGV4ID0gKGMpID0+IFxcbiAgICBsZXQgaGV4ID0gTnVtYmVyKGMpLnRvU3RyaW5nKDE2KTtcXG4gICAgcmV0dXJuIGhleC5sZW5ndGggPT0gMSA/IDBoZXggOiBoZXg7XFxuICBcXG5cXG4gIHJldHVybiAjY29tcG9uZW50VG9IZXgocDYuaW50ZXJuYWxDb2xvci5yZWQpY29tcG9uZW50VG9IZXgocDYuaW50ZXJuYWxDb2xvci5ncmVlbiljb21wb25lbnRUb0hleChwNi5pbnRlcm5hbENvbG9yLmJsdWUpO1xcblxcblxcbmZ1bmN0aW9uIGNvbG9yU3RyaW5nKCkgXFxuICByZXR1cm4gcmdiYShwNi5pbnRlcm5hbENvbG9yLnJlZCwgcDYuaW50ZXJuYWxDb2xvci5ncmVlbiwgcDYuaW50ZXJuYWxDb2xvci5ibHVlLCBwNi5pbnRlcm5hbENvbG9yLmFscGhhIC8gMTAwKTtcXG5cXG5cXG53aW5kb3cudG9nZ2xlRm9udCA9ICgpID0+IFxcbiAgcDYuZm9udF9zaG93biA9ICFwNi5mb250X3Nob3duO1xcbiAgLmdldCguYnV0dG9uLWRlbW8tZXh0cmEsIDApLmlubmVySFRNTCA9IHA2LmZvbnRfc2hvd24gPyBIaWRlIEZvbnQgOiBTaG93IEZvbnQ7XFxuO1xcblxcbndpbmRvdy5jb3B5UmdiID0gKCkgPT4gXFxuICBsZXQgZSA9IC5nZXQoI2hpZGRlbi1jb3B5LWNvbG9yKTtcXG4gIGUuc2VsZWN0KCk7XFxuICBkb2N1bWVudC5leGVjQ29tbWFuZChjb3B5KTtcXG4gIGFsZXJ0KENvcGllZDogZS52YWx1ZSEpO1xcbjtcXG5cXG53aW5kb3cuY29weUhleCA9ICgpID0+IFxcbiAgbGV0IGUgPSAuZ2V0KCNoaWRkZW4tY29weS1oZXgpO1xcbiAgZS5zZWxlY3QoKTtcXG4gIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNvcHkpO1xcbiAgYWxlcnQoQ29waWVkOiBlLnZhbHVlISk7XFxuO1xcblxcbmZ1bmN0aW9uIGZpeEh0bWwoKSBcXG4gIGxldCBkZW1vU2xpZGVyID0gKG9wdGlvbnMpID0+IFxcbiAgICByZXR1cm4gLmdldEVsZW1lbnQoXFxuICAgICAgY29udGFpbnM6IG9wdGlvbnMuY29sb3IsXFxuICAgICAgY2xhc3M6IGRlbW8tbGFiZWxcXG4gICAgKSArIC5nZXRFbGVtZW50KFxcbiAgICAgIHRhZzogaW5wdXQsXFxuICAgICAgdHlwZTogcmFuZ2UsXFxuICAgICAgbWluOiBvcHRpb25zLm1pbiA/IG9wdGlvbnMubWluIDogMCxcXG4gICAgICBtYXg6IG9wdGlvbnMubWF4ID8gb3B0aW9ucy5tYXggOiAyNTUsXFxuICAgICAgdmFsdWU6IHA2LmludGVybmFsQ29sb3Jbb3B0aW9ucy5jb2xvci50b0xvd2VyQ2FzZSgpXSxcXG4gICAgICBjbGFzczogZGVtby1yYW5nZSBkZW1vLXJhbmdlX29wdGlvbnMuY29sb3IudG9Mb3dlckNhc2UoKS5jaGFyQXQoMClcXG4gICAgKTtcXG4gIDtcXG5cXG4gIC5hZGQoLmdldCguZGVtby1hZGRvbnMpLCAuZ2V0RWxlbWVudChcXG4gICAgdGFnOiBpbnB1dCxcXG4gICAgdHlwZTogdGV4dCxcXG4gICAgaWQ6IGhpZGRlbi1jb3B5LWNvbG9yLFxcbiAgICBzdHlsZTogcG9zaXRpb246Zml4ZWQ7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4O1xcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiB0ZXh0LFxcbiAgICBpZDogaGlkZGVuLWNvcHktaGV4LFxcbiAgICBzdHlsZTogcG9zaXRpb246Zml4ZWQ7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4O1xcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICBpZDogY3VycmVudENvbG9yXFxuICApICsgZGVtb1NsaWRlcihcXG4gICAgY29sb3I6IFJlZFxcbiAgKSArIGRlbW9TbGlkZXIoXFxuICAgIGNvbG9yOiBHcmVlblxcbiAgKSArIGRlbW9TbGlkZXIoXFxuICAgIGNvbG9yOiBCbHVlXFxuICApICsgZGVtb1NsaWRlcihcXG4gICAgY29sb3I6IEFscGhhLFxcbiAgICBtYXg6IDEwMFxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiB0ZXh0LFxcbiAgICBwbGFjZWhvbGRlcjogRm9udCBDb2xvcixcXG4gICAgaWQ6IGZvbnRDb2xvclxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICB0YWc6IGlucHV0LFxcbiAgICB0eXBlOiB0ZXh0LFxcbiAgICBwbGFjZWhvbGRlcjogQmFja2dyb3VuZCBDb2xvcixcXG4gICAgaWQ6IGJhY2tncm91bmRDb2xvclxcbiAgKSArIC5nZXRFbGVtZW50KFxcbiAgICBjbGFzczogYnV0dG9uLWRlbW8tZXh0cmEsXFxuICAgIG9uY2xpY2s6IGphdmFzY3JpcHQ6dG9nZ2xlRm9udCgpOyxcXG4gICAgY29udGFpbnM6IHA2LmZvbnRfc2hvd24gPyBIaWRlIEZvbnQgOiBTaG93IEZvbnRcXG4gICkgKyAuZ2V0RWxlbWVudChcXG4gICAgY2xhc3M6IGJ1dHRvbi1kZW1vLWV4dHJhLFxcbiAgICBvbmNsaWNrOiBqYXZhc2NyaXB0OmNvcHlSZ2IoKTssXFxuICAgIGNvbnRhaW5zOiAuaWNvbihcXG4gICAgICBpY29uOiBjb3B5XFxuICAgICkgKyAgUkdCXFxuICApICsgLmdldEVsZW1lbnQoXFxuICAgIGNsYXNzOiBidXR0b24tZGVtby1leHRyYSxcXG4gICAgb25jbGljazogamF2YXNjcmlwdDpjb3B5SGV4KCk7LFxcbiAgICBjb250YWluczogLmljb24oXFxuICAgICAgaWNvbjogY29weVxcbiAgICApICsgIEhleFxcbiAgKSk7XFxuJztcbiAgICAgIGlmIChfcHJvamVjdC5sZW5ndGggPD0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3JjOiBfcHJvamVjdCxcbiAgICAgICAgbmFtZTogX3AsXG4gICAgICAgIGRhdGU6IEMucHJvamVjdHMuZmlsdGVyKGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIHByb2plY3QubmFtZS5tYXRjaChfcCk7XG4gICAgICAgIH0pWzBdLmRhdGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmVyaWZ5T3JpZW50YXRpb24oKSB7XG4gICAgICAkJC5kZXZpY2VPcmllbnRhdGlvbiA9IHdpbmRvdy5tYXRjaE1lZGlhKCcob3JpZW50YXRpb246IHBvcnRyYWl0KScpLm1hdGNoZXMgPyAncG9ydHJhaXQnIDogJ2xhbmRzY2FwZSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTdGFuZGFsb25lKCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKCcoZGlzcGxheS1tb2RlOiBzdGFuZGFsb25lKScpLm1hdGNoZXMgfHwgJ3N0YW5kYWxvbmUnIGluIG5hdmlnYXRvcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Z1bGxzY3JlZW4oKSB7XG4gICAgICBpZiAoJCQuZGV2aWNlT3JpZW50YXRpb24gPT09ICdwb3J0cmFpdCcpIHtcbiAgICAgICAgcmV0dXJuICQkLmRldmljZUhlaWdodCA9PSB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgJCQuZGV2aWNlV2lkdGggPT0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB9IGVsc2UgaWYgKCQkLmRldmljZU9yaWVudGF0aW9uID09PSAnbGFuZHNjYXBlJykge1xuICAgICAgICByZXR1cm4gJCQuZGV2aWNlSGVpZ2h0ID09IHdpbmRvdy5pbm5lcldpZHRoICYmICQkLmRldmljZVdpZHRoID09IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///12\\n\")}}]);","extractedComments":[]}